(this["webpackJsonpself-track"]=this["webpackJsonpself-track"]||[]).push([[4],{417:function(e,t,a){e.exports={Tracker:"Tracker_Tracker__3ovyp",Expand:"Tracker_Expand__2hQt9",Header:"Tracker_Header__2Z-aS"}},422:function(e,t,a){"use strict";var n=a(9);t.a=function(){return Object(n.jsx)("div",{style:{width:"100%",height:"1px",backgroundImage:"linear-gradient(to right, white, grey, white)"}})}},423:function(e,t,a){"use strict";var n=a(18),c=a(1),r=a.n(c),s=a(432),o=a.n(s),i=a(433),l=a.n(i),d=a(434),u=a.n(d),j=a(435),b=a.n(j),h=a(417),m=a.n(h),O=a(82),p=a(578),f=a(436),x=a(437),g=a(9),v=r.a.memo((function(e){var t=e.type,a=e.color,c=e.name,s=e.size,i=e.options,d=r.a.useState(0),j=Object(n.a)(d,2),h=j[0],v=j[1],_=r.a.useState(!0),k=Object(n.a)(_,2),y=k[0],C=k[1],w=r.a.useState(0),N=Object(n.a)(w,2),S=N[0],T=N[1],E=r.a.useState(!1),D=Object(n.a)(E,2),M=D[0],B=D[1],I=r.a.useState(Date.now()),H=Object(n.a)(I,2),F=H[0],R=H[1];r.a.useEffect((function(){i&&i.isRunning&&B(!0)}),[i]);var P;switch(t){case"stopwatch":P=Object(g.jsxs)("div",{className:o.a.Content,children:[Object(g.jsx)("button",{className:"".concat(o.a.MainButton,"     main-button"),onClick:function(){var e=M;if(B(!e),e){var t=S+Date.now()-F;T(t)}else R(Date.now())},children:Object(g.jsx)("svg",{width:"50",height:"50",fill:"currentColor",children:Object(g.jsx)("use",{href:"".concat(O.a,"#").concat(M?"pause":"play","-circle")})})}),Object(g.jsx)("h5",{className:o.a.Header,children:c}),Object(g.jsx)(x.a,{accum:S,isRunning:M,lastEntry:F})]});break;case"checker":P=Object(g.jsxs)("div",{className:b.a.Content,children:[Object(g.jsx)("h5",{className:b.a.Header,children:c}),Object(g.jsx)("div",{className:b.a.CheckBox,children:Object(g.jsx)("svg",{onClick:function(){C(!y)},width:"22",height:"22",fill:"currentColor",children:Object(g.jsx)("use",{href:"".concat(O.a,"#").concat(y?"check-":"","square")})})})]});break;case"counter":P=Object(g.jsxs)("div",{className:u.a.Content,children:[Object(g.jsx)("h5",{className:u.a.Header,children:c}),Object(g.jsx)(f.a,{count:h,size:s,plus:function(e){return v(e)},minus:function(e){return v(e)}})]});break;default:P=Object(g.jsxs)("div",{className:l.a.Content,children:[Object(g.jsx)("h5",{className:l.a.Header,children:c}),Object(g.jsx)(p.a,{className:l.a.Rating,name:"stars",defaultValue:4,size:"large"})]})}return Object(g.jsxs)("div",{className:m.a.Tracker,style:{borderColor:a},children:[P,Object(g.jsx)("div",{className:m.a.Expand,children:Object(g.jsx)("svg",{width:"30",height:"30",fill:"currentColor",children:Object(g.jsx)("use",{href:"".concat(O.a,"#chevron-expand")})})})]})}));t.a=v},424:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n=function(e){if(e<0)return"--:--:--";var t=Math.round(e/1e3),a=(t%60).toString().padStart(2,"0"),n=Math.floor(t/60%60).toString().padStart(2,"0"),c=Math.floor(t/3600).toString().padStart(2,"0");return"".concat(c,":").concat(n,":").concat(a)},c=function(e){var t=new Date(e),a=t.getSeconds().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),c=t.getHours().toString().padStart(2,"0");return"".concat(c,":").concat(n,":").concat(a)}},432:function(e,t,a){e.exports={Content:"Stopwatch_Content__3seJN",Header:"Stopwatch_Header__3WRJs",MainButton:"Stopwatch_MainButton__Xtp0K"}},433:function(e,t,a){e.exports={Content:"Rater_Content__3fnIG",Header:"Rater_Header__2iJvZ",Rating:"Rater_Rating__fa4Sp"}},434:function(e,t,a){e.exports={Content:"Counter_Content__3GsA1",Header:"Counter_Header__2uGCX"}},435:function(e,t,a){e.exports={CheckBox:"Checker_CheckBox__8GKH-",Content:"Checker_Content__34-M0",Header:"Checker_Header__2TFSU"}},436:function(e,t,a){"use strict";a(1);var n=a(449),c=a.n(n),r=a(9);t.a=function(e){return Object(r.jsxs)("div",{className:"".concat(c.a.Counter," main-button"),children:[Object(r.jsx)("button",{className:c.a.Left,onClick:function(){e.plus(+e.count+e.size)},children:"+"}),Object(r.jsx)("div",{className:c.a.CountDiv,children:Object(r.jsx)("h3",{className:c.a.Count,children:e.count})}),Object(r.jsx)("button",{disabled:e.count-e.size<0,className:c.a.Right,onClick:function(){var t=e.count-e.size;t<0||e.minus(t)},children:"-"})]})}},437:function(e,t,a){"use strict";var n=a(18),c=a(1),r=a(424),s=a(450),o=a.n(s),i=a(9);t.a=function(e){var t=e.accum,a=e.isRunning,s=e.lastEntry,l=Object(c.useState)("00:00:00"),d=Object(n.a)(l,2),u=d[0],j=d[1],b=Object(c.useState)(0),h=Object(n.a)(b,2),m=h[0],O=h[1],p=Object(c.useCallback)((function(){O(Date.now()-s)}),[s]);return Object(c.useEffect)((function(){var e;return a||O(0),a&&(p(),e=window.setInterval((function(){p()}),1e3)),function(){window.clearInterval(e)}}),[a,p]),Object(c.useEffect)((function(){var e=m+t,a=Object(r.b)(e);j(a)}),[t,s,m]),Object(i.jsx)("div",{className:o.a.Clock,children:Object(i.jsx)("h3",{children:u})})}},449:function(e,t,a){e.exports={Counter:"Icons_Counter__NThdM",Left:"Icons_Left__2w5Dn",Right:"Icons_Right__AH45A",CountDiv:"Icons_CountDiv__17jwR",Count:"Icons_Count__3HIsl"}},450:function(e,t,a){e.exports={Clock:"Clock_Clock__I3wu-"}},484:function(e,t,a){e.exports={Modal:"TrackersForm_Modal__Kik1V",Header:"TrackersForm_Header__2Brvh",Selector:"TrackersForm_Selector__3JBOO",Body:"TrackersForm_Body__2wlBe",Circle:"TrackersForm_Circle__2KvEL",RedCircle:"TrackersForm_RedCircle__CI0z1",Buttons:"TrackersForm_Buttons__1oy1z",Button:"TrackersForm_Button__9d7Jf",BackButton:"TrackersForm_BackButton__1Eb3b",Form:"TrackersForm_Form__3LHZx",Step:"TrackersForm_Step__3h1TQ",StepContent:"TrackersForm_StepContent__2Z747",ColorField:"TrackersForm_ColorField__17Ipo",Field:"TrackersForm_Field__2PJ_4",FloatingButton:"TrackersForm_FloatingButton__1LEwx"}},527:function(e,t,a){e.exports={CardHeader:"SurveyForm_CardHeader__3GZP2",List:"SurveyForm_List__3VN1A",Transfer:"SurveyForm_Transfer__NIDYV",Movers:"SurveyForm_Movers__ZnRYR"}},530:function(e,t,a){e.exports={Trackers:"Trackers_Trackers__1zNZe",NewTrackerButton:"Trackers_NewTrackerButton__3o3q4",UpperContainer:"Trackers_UpperContainer__2wTXi",Container:"Trackers_Container__2MFOo",DatePicker:"Trackers_DatePicker__2s6lh"}},531:function(e,t,a){e.exports={Entries:"StopwatchEntries_Entries__trl9H",Header:"StopwatchEntries_Header__28woA",Body:"StopwatchEntries_Body__xnW4u",NewEntryButton:"StopwatchEntries_NewEntryButton__25tlb",Tablehead:"StopwatchEntries_Tablehead__1t_kg",ListItem:"StopwatchEntries_ListItem__3ni0F",Dropdown:"StopwatchEntries_Dropdown__24rx5"}},532:function(e,t,a){e.exports={BarChartPreAmp:"BarChartPreAmp_BarChartPreAmp__3-nTm"}},533:function(e,t,a){e.exports={BarChart:"BarChart_BarChart__3cQVs"}},534:function(e,t,a){e.exports={Field:"EntryEditForm_Field__3Tdcb",Limit:"EntryEditForm_Limit__3WxXf",Form:"EntryEditForm_Form__3lfW3",SaveButton:"EntryEditForm_SaveButton__2xa0r",CancelButton:"EntryEditForm_CancelButton__2hiWm"}},552:function(e,t,a){e.exports={NewUser:"NewTrackerGuide_NewUser__12zqJ",Form:"NewTrackerGuide_Form__ys7Wm",RadioOptions:"NewTrackerGuide_RadioOptions__JoVOV",Toggle:"NewTrackerGuide_Toggle__3SplK",Togglegroup:"NewTrackerGuide_Togglegroup__L6eD4",Arrow:"NewTrackerGuide_Arrow__9jM55",Card:"NewTrackerGuide_Card__2sHIH",Body:"NewTrackerGuide_Body__1p2yI",Options:"NewTrackerGuide_Options__1ZUdn",Option:"NewTrackerGuide_Option__hdPbm",Recommended:"NewTrackerGuide_Recommended__3IdxW",Possible:"NewTrackerGuide_Possible__34xLx",NotRec:"NewTrackerGuide_NotRec__2Cy1-",ButtonPanel:"NewTrackerGuide_ButtonPanel__2qAyC",Next:"NewTrackerGuide_Next__2PBK2",Back:"NewTrackerGuide_Back__2cL8a",Header:"NewTrackerGuide_Header__KPT1a"}},553:function(e,t,a){e.exports={Modal:"NewTracker_Modal__K9oGT",Header:"NewTracker_Header__32Omx",Options:"NewTracker_Options__IKVm3",Option:"NewTracker_Option__3iGNs",Arrow:"NewTracker_Arrow__1bvLO",NotSure:"NewTracker_NotSure__3am8Z",Large:"NewTracker_Large__EpJVD",Left:"NewTracker_Left__1bbZN",Right:"NewTracker_Right__2Zzdo"}},554:function(e,t,a){e.exports={Container:"ExpandedTracker_Container__2qnHp",Modal:"ExpandedTracker_Modal__YSemr",Field:"ExpandedTracker_Field__2kjfR",Backdrop:"ExpandedTracker_Backdrop__zrGCv",Header:"ExpandedTracker_Header__18ZkH",HeaderType:"ExpandedTracker_HeaderType__1v3G1",Pen:"ExpandedTracker_Pen__33ZG8",Color:"ExpandedTracker_Color__E2ssn",Description:"ExpandedTracker_Description__2SFVy",StepSize:"ExpandedTracker_StepSize__1U5BU",ButtonPanel:"ExpandedTracker_ButtonPanel__3jrBp",EntriesButton:"ExpandedTracker_EntriesButton__2WG5b",DeleteButton:"ExpandedTracker_DeleteButton__3I1Av"}},555:function(e,t,a){e.exports={Form:"InputField_Form__2DsNl",Save:"InputField_Save__DJ7ve",Message:"InputField_Message__6gLWi"}},556:function(e,t,a){e.exports={Box:"Box_Box__1uBEq",Label:"Box_Label__37x2B",Button:"Box_Button__31I1y"}},557:function(e,t,a){e.exports={ColorPicker:"ColorPicker_ColorPicker__23cjM",Switch:"ColorPicker_Switch__2NkF5",Pickers:"ColorPicker_Pickers__3eE63",Slider:"ColorPicker_Slider__AQqsv",Picker:"ColorPicker_Picker__9EGeW"}},558:function(e,t,a){e.exports={Modal:"MessageModal_Modal__34v65",Message:"MessageModal_Message__1WMYs",ButtonPanel:"MessageModal_ButtonPanel__3SKYm",Yes:"MessageModal_Yes__1LOfq",No:"MessageModal_No__hCXI_",Backdrop:"MessageModal_Backdrop__dGCPa"}},559:function(e,t,a){e.exports={DataPanel:"DataPanel_DataPanel__2TvCl",Main:"DataPanel_Main__3mO9g",Chart:"DataPanel_Chart__2NxcX",main:"DataPanel_main__1bcgu"}},560:function(e,t,a){e.exports={TrackerSelector:"TrackerSelector_TrackerSelector__13Imw"}},561:function(e,t,a){e.exports={Label:"Label_Label__1Ou9W"}},562:function(e,t,a){e.exports={Selector:"RangeSelector_Selector__1o0hR",Calender:"RangeSelector_Calender__3YZIM"}},567:function(e,t,a){e.exports={BarChart:"BarLineChart_BarChart__UHoXd"}},638:function(e,t,a){"use strict";a.r(t);var n=a(18),c=a(1),r=a.n(c),s=a(39),o=a(34),i=a(47),l=a(87),d=a(484),u=a.n(d),j=a(471),b=a(175),h=a(422),m=a(402),O=a(116),p=a(423),f=a(645),x=a(648),g=a(639),v=a(640),_=a(61),k=a(9),y=r.a.memo((function(e){var t=Object(c.useState)("#00bcd4"),a=Object(n.a)(t,2),s=a[0],o=a[1],d=r.a.useState(0),y=Object(n.a)(d,2),C=y[0],w=y[1],N=r.a.useState(""),S=Object(n.a)(N,2),T=S[0],E=S[1],D=r.a.useState(2),M=Object(n.a)(D,2),B=M[0],I=M[1],H=Object(c.useContext)(b.a),F=r.a.useCallback((function(e){var t;switch(e){case"stopwatch":t="rgb(152, 29, 135)";break;case"rater":t="rgb(12, 223, 238)";break;case"checker":t="rgb(12, 136, 238)";break;default:t="rgb(236, 54, 141)"}o(t)}),[]);Object(c.useEffect)((function(){E(e.type),I("counter"===e.type?3:2),F(e.type)}),[e,F]);var R=function(){z.setFieldTouched("name",!0,!0),z.values.name&&w((function(e){return e+1}))},P=function(){w((function(e){return e-1}))},z=Object(l.d)({initialValues:{name:"",description:"",size:1},validationSchema:i.b({name:i.d().max(20,"Name is too long").required("Must have a name"),description:i.d(),size:i.a().positive("Must be a possitive number").required("")}),onSubmit:function(t){e.attemptSubmition(),e.createNewTracker(H,e.type,t.name,t.description,s,t.size),A()}}),L=[{label:"Name",description:Object(k.jsxs)(_.a,{children:[Object(k.jsx)(m.a,{id:"name",name:"name",label:Object(k.jsxs)("p",{children:["Name ",Object(k.jsx)("small",{children:" (required)"})]}),variant:"outlined",placeholder:"e.g With friends...",value:z.values.name,onChange:z.handleChange,error:z.touched.name&&Boolean(z.errors.name),helperText:z.touched.name&&z.errors.name}),Object(k.jsx)("p",{children:"Choose a name that describes best what the tracker tracks, with the least amount of words."})]})},{label:"Description",description:Object(k.jsxs)(_.a,{children:[Object(k.jsx)(m.a,{id:"description",name:"description",multiline:!0,label:Object(k.jsxs)("p",{children:["Description",Object(k.jsx)("small",{children:" (optional)"})]}),variant:"outlined",maxRows:4,placeholder:"e.g The amount of time i spend hanging out with friends...",value:z.values.description,onChange:z.handleChange,error:z.touched.description&&Boolean(z.errors.description),helperText:z.touched.description&&z.errors.description}),Object(k.jsx)("p",{children:"A description would remind you what this tracker is meant to track in case you forget."})]})},"counter"===T?{label:"Step size",description:Object(k.jsxs)(_.a,{children:[Object(k.jsx)(m.a,{value:z.values.size,onChange:z.handleChange,id:"size",name:"size",type:"number",label:Object(k.jsxs)("p",{children:["Step size",Object(k.jsx)("small",{children:" (optional)"})]}),variant:"outlined",style:{width:"100px"},error:z.touched.size&&Boolean(z.errors.size),helperText:z.touched.size&&z.errors.size}),Object(k.jsx)("p",{children:"The `step size` is the amount by which the count goes up or down per click."})]})}:null,{label:"Color",description:Object(k.jsxs)(_.a,{children:[Object(k.jsx)(j.b,{onChangeComplete:function(e){o(e.hex)},color:s}),Object(k.jsx)("p",{children:"The color will be displayed in all graphs and charts (It can be changed at any time)."})]})}],A=function(){o("#00bcd4"),e.onFinish()},G=Object(k.jsxs)("div",{className:u.a.Modal,children:[Object(k.jsxs)("div",{className:u.a.Header,children:[Object(k.jsx)("div",{className:u.a.Selector,children:Object(k.jsx)("select",{onChange:function(e){E(e.target.value),F(e.target.value)},value:T,children:["Rater","Checker","Stopwatch","Counter"].map((function(e){return Object(k.jsx)("option",{value:e.toLowerCase(),children:e},e)}))})}),Object(k.jsx)(p.a,{type:T,color:s,options:null,name:z.values.name?z.values.name:T.slice(0,1).toUpperCase()+T.slice(1),size:+z.values.size})]}),Object(k.jsx)(h.a,{}),Object(k.jsx)("div",{className:u.a.Body,children:Object(k.jsx)(f.a,{activeStep:C,orientation:"vertical",children:L.map((function(e,t){return e?Object(k.jsxs)(x.a,{className:"Name"===e.label&&z.errors.name?u.a.RedCircle:u.a.Circle,children:[Object(k.jsx)(g.a,{children:e.label}),Object(k.jsx)(v.a,{children:Object(k.jsxs)("div",{className:u.a.Step,children:[Object(k.jsx)("div",{className:u.a.StepContent,children:e.description}),Object(k.jsxs)("div",{className:u.a.Buttons,children:[Object(k.jsx)("button",{className:u.a.Button,onClick:C!==B?R:z.submitForm,disabled:0===C&&!!z.errors.name,children:t===L.length-1?"Create":"Continue"}),Object(k.jsx)("button",{className:u.a.BackButton,disabled:0===t,onClick:P,children:"Back"})]})]})})]},e.label):null}))})})]});return"attempt"===e.submitionState&&(G=Object(k.jsx)(O.a,{})),G})),C={attemptSubmition:function(){return s.m("attempt")},createNewTracker:function(e,t,a,n,c,r){return s.a(e,t,a,n,c,r)}},w=Object(o.b)((function(e){return{submitionState:e.submitionState}}),C)(y),N=a(25),S=a(637),T=a(527),E=a.n(T),D=a(618),M=a(649),B=a(82),I=a(613),H=a(614),F=a(646),R=a(617),P=a(619),z=a(620),L=a(621),A=a(622),G=function(e,t){return e.filter((function(e){return!t.includes(e)}))},Y=function(e,t){return e.filter((function(e){return t.includes(e)}))},V=r.a.memo((function(e){var t=e.show,a=e.closeHandler,r=e.checkers,s=e.raters,o=Object(c.useState)([]),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)([].concat(Object(N.a)(r),Object(N.a)(s))),j=Object(n.a)(u,2),h=j[0],O=j[1],p=Object(c.useState)([]),f=Object(n.a)(p,2),x=f[0],g=f[1],v=Y(l,h),_=Y(l,x),y=Object(c.useState)(["raters","checkers"]),C=Object(n.a)(y,2),w=C[0],T=C[1],V=Object(c.useState)(""),W=Object(n.a)(V,2),U=W[0],Z=W[1],q=Object(c.useContext)(b.a),J=function(){a()},K=function(e){return function(){var t=l.indexOf(e),a=Object(N.a)(l);-1===t?a.push(e):a.splice(t,1),d(a)}},X=function(e){return Y(l,e).length},Q=function(e){return function(){var t,a;X(e)===e.length?d(G(l,e)):d((t=l,a=e,[].concat(Object(N.a)(t),Object(N.a)(G(a,t)))))}},$=function(e,t){T(t)},ee=function(e,t){return Object(k.jsxs)(I.a,{children:[Object(k.jsx)(H.a,{className:E.a.CardHeader,avatar:Object(k.jsx)(F.a,{onClick:Q(t),checked:X(t)===t.length&&0!==t.length,indeterminate:X(t)!==t.length&&0!==X(t),disabled:0===t.length}),title:e,subheader:"".concat(X(t),"/").concat(t.length," selected")}),Object(k.jsx)(R.a,{}),Object(k.jsxs)(D.a,{defaultCollapseIcon:Object(k.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-up")})}),defaultExpandIcon:Object(k.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-down")})}),expanded:w,onNodeToggle:$,children:[Object(k.jsx)(M.a,{nodeId:"raters",label:"Raters",children:t.filter((function(e){return"rater"===e.type})).map((function(e){return Object(k.jsxs)(P.a,{role:"listitem",button:!0,onClick:K(e),children:[Object(k.jsx)(z.a,{children:Object(k.jsx)(F.a,{checked:l.includes(e),disableRipple:!0})}),Object(k.jsx)(L.a,{id:e.id,primary:e.name})]},e.id)}))}),Object(k.jsx)(M.a,{nodeId:"checkers",label:"Checkers",children:t.filter((function(e){return"checker"===e.type})).map((function(e){return Object(k.jsxs)(P.a,{role:"listitem",button:!0,onClick:K(e),children:[Object(k.jsx)(z.a,{children:Object(k.jsx)(F.a,{checked:l.includes(e),disableRipple:!0})}),Object(k.jsx)(L.a,{id:e.id,primary:e.name})]},e.id)}))})]})]})},te=Object(k.jsxs)("form",{className:E.a.Form,children:[Object(k.jsx)(m.a,{id:"standard-basic",label:"Name",required:!0,value:U,onChange:function(e){Z(e.target.value)},error:U.length<4&&U.length>0}),Object(k.jsxs)("div",{className:E.a.Transfer,children:[ee("Choices",h),Object(k.jsxs)("div",{className:E.a.Movers,children:[Object(k.jsx)(A.a,{variant:"outlined",size:"small",onClick:function(){g(x.concat(v)),O(G(h,v)),d(G(l,v))},disabled:0===v.length,children:">"}),Object(k.jsx)(A.a,{variant:"outlined",size:"small",onClick:function(){O(h.concat(_)),g(G(x,_)),d(G(l,_))},disabled:0===_.length,children:"<"})]}),ee("Chosen",x)]})]});return Object(k.jsxs)(S.a,{show:t,onHide:J,children:[Object(k.jsx)(S.a.Header,{}),Object(k.jsx)(S.a.Body,{children:te}),Object(k.jsxs)(S.a.Footer,{children:[Object(k.jsx)(A.a,{onClick:J,children:"Close"}),Object(k.jsx)(A.a,{onClick:function(){q.collection("surveys").add({name:U,trackers:x.map((function(e){return e.id}))}).then((function(){J()})).catch((function(e){return console.log(e)}))},children:"Save"})]})]})})),W=a(530),U=a.n(W),Z=a(432),q=a.n(Z),J=a(417),K=a.n(J),X=a(437),Q=a(176),$=a(31),ee=a(531),te=a.n(ee),ae=a(532),ne=a.n(ae),ce=a(474),re=a(533),se=a.n(re),oe=r.a.memo((function(e){var t=e.chartData,a=Object(c.useRef)(null),n=Object(c.useCallback)((function(e){if(e){var t=e.getContext("2d");t&&(a.current=new ce.a(t,{type:"bar",data:{datasets:[]},options:{aspectRatio:8,scales:{x:{stacked:!0,max:24,grid:{display:!1},ticks:{stepSize:4,callback:function(e){return"".concat(e,":00")}}},y:{stacked:!0}},indexAxis:"y",onClick:function(e){var t,a,n=e.chart.config._config.data.datasets;console.log(n);var c=null===(t=e.chart._active[0])||void 0===t?void 0:t.datasetIndex;if(c){var r=null===(a=e.chart._active[0])||void 0===a?void 0:a.index;console.log(c),console.log(r),console.log(n[c].data[r])}},elements:{bar:{borderWidth:1,barThickness:2}},responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}))}}),[]);return Object(c.useEffect)((function(){a.current&&(a.current.data={labels:[""],datasets:t},a.current.update())}),[t]),Object(k.jsx)(_.a,{children:Object(k.jsx)("div",{className:se.a.BarChart,children:Object(k.jsx)("canvas",{ref:n})})})})),ie=r.a.memo((function(e){var t=e.stopwatch,a=e.entries,r=e.date,s=Object(c.useState)(Date.now()),o=Object(n.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(null),u=Object(n.a)(d,2),j=u[0],b=u[1];Object(c.useEffect)((function(){var e=[],n=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1).getTime(),s=[n].concat(Object(N.a)(a.map((function(e){return e.timestamp})))),o=i;s.push(o<c?o:c);var l=[],d=null;s.forEach((function(e){d&&l.push((e-d)/36e5),d=e}));var u=function(e){var a="rgb(225, 225, 225)";return e%2&&(a=t.color),a};l.forEach((function(t,a){e.push({data:[t],backgroundColor:u(a)})})),b(e)}),[t,a,r,i]);var h=Object(c.useCallback)((function(){l(Date.now())}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){h()}),6e4);return function(){clearInterval(e)}}),[h]);var m=Object(k.jsx)("p",{children:"loading..."});return j&&(m=Object(k.jsx)("div",{className:ne.a.BarChartPreamp,children:Object(k.jsx)(oe,{chartData:j})})),m})),le=a(535),de=a(623),ue=a(0),je=a.n(ue),be=a(3),he=a(44);function me(){return(me=Object(be.a)(je.a.mark((function e(t,a){var n,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a.forEach((function(e){var a=Oe(t,e.year,e.month,e.day);n.push(a)})),e.next=4,Promise.all(n);case 4:return c=e.sent,e.abrupt("return",c.map((function(e){return e.docs})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(e,t,a,n){return e.collection("entries").where("year","==",t).where("month","==",a).where("day","==",n).orderBy("timestamp","asc").get()};var pe=a(424),fe=a(534),xe=a.n(fe),ge=a(221),ve=r.a.memo((function(e){var t=e.entry,a=e.submitHandler,r=e.onCancel,s=Object(c.useState)(t.from.timestamp),o=Object(n.a)(s,2),i=o[0],d=o[1],u=Object(c.useState)(t.to.timestamp),j=Object(n.a)(u,2),b=j[0],h=j[1],m=Object(c.useState)(b-i),O=Object(n.a)(m,2),p=O[0],f=O[1],x=new Date(t.from.timestamp),g=new Date(t.to.timestamp),v={fromHour:x.getHours(),fromMinute:x.getMinutes(),fromSecond:x.getSeconds(),toHour:g.getHours(),toMinute:g.getMinutes(),toSecond:g.getSeconds()};return Object(k.jsx)("div",{children:Object(k.jsx)(l.c,{initialValues:v,onSubmit:function(e){},validate:function(e){var a={to:!1,from:!1},n=Object(ge.b)(e.fromHour,e.fromMinute,e.fromSecond,t.from.timestamp),c=Object(ge.b)(e.toHour,e.toMinute,e.toSecond,t.to.timestamp),r=n>=t.from.limit,s=n<=c,o=c<=t.to.limit,i=c>n;return r&&s||(a.from=!0),i&&o||(a.to=!0),d(n),h(c),f(c-n),a},children:function(e){var n=e.errors,c=e.values;return Object(k.jsxs)(l.b,{className:xe.a.Form,children:[Object(k.jsxs)("div",{className:xe.a.Field,style:{borderColor:n.from?"red":"green"},children:[Object(k.jsx)("label",{children:"From:"}),Object(k.jsx)(l.a,{min:0,max:23,type:"number",name:"fromHour"}),Object(k.jsx)("p",{children:":"}),Object(k.jsx)(l.a,{min:0,max:59,type:"number",name:"fromMinute"}),Object(k.jsx)("p",{children:":"}),Object(k.jsx)(l.a,{min:0,max:59,type:"number",name:"fromSecond"})]}),Object(k.jsx)("div",{className:xe.a.Limit,children:"Must be between ".concat(Object(ge.c)(t.from.limit)," and ").concat(Object(ge.c)(Object(ge.b)(c.toHour,c.toMinute,c.toSecond,t.to.timestamp)))}),Object(k.jsxs)("div",{className:xe.a.Field,style:{borderColor:n.to?"red":"green"},children:[Object(k.jsx)("label",{children:"To:"}),Object(k.jsx)(l.a,{min:0,max:23,type:"number",name:"toHour"}),Object(k.jsx)("p",{children:":"}),Object(k.jsx)(l.a,{min:0,max:59,type:"number",name:"toMinute"}),Object(k.jsx)("p",{children:":"}),Object(k.jsx)(l.a,{min:0,max:59,type:"number",name:"toSecond"})]}),Object(k.jsx)("div",{className:xe.a.Limit,children:"Must be between ".concat(Object(ge.c)(Object(ge.b)(c.fromHour,c.fromMinute,c.fromSecond,t.from.timestamp))," and ").concat(Object(ge.c)(t.to.limit))}),Object(k.jsx)("div",{className:xe.a.Field,style:{width:"100%",borderColor:n.from?"red":"green"},children:Object(k.jsxs)("p",{style:{fontWeight:"normal",width:"100%"},children:["Sub-Total: ",Object(pe.b)(p)]})}),Object(k.jsx)("button",{onClick:function(){return a(i,b)},type:"submit",className:xe.a.SaveButton,disabled:!!n.to||!!n.from,children:"Save Changes"}),Object(k.jsx)("button",{className:xe.a.CancelButton,onClick:r,children:"Cancel"})]})}})})})),_e=a(178),ke=function(e){var t=e.show,a=e.closeHandler,n=e.editHandler,r=e.entry,s=e.newEntryHandler,o=Object(c.useContext)(b.a),i=function(e,t){console.log("change");var a=$.b.batch(),c=o.collection("entries").doc(r.from.id);if(a.update(c,{timestamp:e}),r.to.id){var i=o.collection("entries").doc(r.to.id);a.update(i,{timestamp:t})}r.to.id||(console.log("do something else"),s(t)),n(a)};return Object(k.jsxs)(_e.a,{show:t,onHide:a,children:[Object(k.jsx)("div",{style:{width:"100%",height:"60px"},children:"Change the beginning and ending"}),Object(k.jsx)("div",{style:{width:"100%",height:"max-content"},children:Object(k.jsx)(ve,{onCancel:a,entry:r,submitHandler:function(e,t){(null===r||void 0===r?void 0:r.index)?i(e,t):(s(e),s(t)),a()}})})]})},ye=r.a.memo((function(e){var t=e.entries,a=e.stopwatch,r=e.date,s=e.show,o=e.closeHandler,i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)([]),h=Object(n.a)(j,2),m=h[0],O=h[1],p=Object(c.useState)(!1),f=Object(n.a)(p,2),x=f[0],g=f[1],v=Object(c.useState)(null),_=Object(n.a)(v,2),y=_[0],C=_[1],w=Object(c.useContext)(Q.a),N=Object(c.useState)([]),S=Object(n.a)(N,2),T=S[0],E=S[1],D=Object(c.useContext)(b.a);Object(c.useEffect)((function(){if(!t.length)return u([]),void E([]);var e=function(e,t,a,n){var c=[],r=n.getTime(),s=new Date(e[0].year,e[0].month,e[0].day+1,0,0,-1).getTime(),o=null,i=0,l=r,d=0;e.forEach((function(e,r){if(r%2){c.pop();var s=e.timestamp-o.timestamp;i+=s;var u={timestamp:o.timestamp,id:o.entryId,limit:l},j={timestamp:e.timestamp,id:e.entryId,limit:null};l=j.timestamp;var b={stopwatchId:t,from:u,to:j,subTotal:s,total:i,index:d};c.push(b)}if(!(r%2)){if(o=e,d++,n.getTime()===a.getTime()){var h={stopwatchId:t,from:{timestamp:e.timestamp,id:e.entryId,limit:0},to:{timestamp:0,id:"",limit:0},subTotal:0,total:0,index:d};c.push(h)}if(n.getTime()!==a.getTime()){var m=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,0,0,-1).getTime(),O={stopwatchId:t,from:{timestamp:e.timestamp,id:e.entryId,limit:n.getTime()},to:{timestamp:m,id:"",limit:m},subTotal:m-e.timestamp,total:i+m-e.timestamp,index:d};c.push(O)}}}));var u=c.reverse(),j=s;return u.forEach((function(e){e.to&&(e.to.limit=j),j=e.from.timestamp})),u}(t,a.id,w,r);u(e),E(e.map((function(t,a){return t.to.timestamp?{id:e.length-a,from:Object(pe.a)(t.from.timestamp),to:Object(pe.a)(t.to.timestamp),subTotal:Object(pe.b)(t.subTotal),total:Object(pe.b)(t.total)}:{id:e.length-a,from:Object(pe.a)(t.from.timestamp),to:"now",subTotal:"--:--:--",total:"--:--:--"}})))}),[t,a,w,r]);return Object(k.jsxs)(_e.a,{show:s,onHide:o,children:[Object(k.jsx)("div",{className:te.a.Header,children:Object(k.jsx)(ie,{entries:t,stopwatch:a,date:r})}),Object(k.jsx)("div",{className:te.a.body,children:Object(k.jsxs)("div",{className:te.a.Entries,children:[Object(k.jsxs)(de.a,{variant:"text",color:"primary",children:[Object(k.jsx)(A.a,{disabled:1!==m.length,onClick:function(){var e=d.length-m[0],t=[];t.push(d[e].from.id),d[e].to.id&&t.push(d[e].to.id);var a=$.b.batch();t.forEach((function(e){var t=D.collection("entries").doc(e);a.delete(t)})),a.commit().then((function(){console.log("deleted"),O([])})).catch((function(e){return console.log(e)}))},children:"Delete"}),Object(k.jsx)(A.a,{disabled:1!==m.length,onClick:function(){var e=d.length-m[0];C(d[e]),g(!0)},children:"Edit"}),Object(k.jsx)(A.a,{onClick:function(){if(!d[0]||0!==d[0].to.timestamp){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),t=r.getTime()!==w.getTime()?new Date(r.getFullYear(),r.getMonth(),r.getDate()+1).getTime():Date.now(),n=d[0]?d[0].to.timestamp:e,c={stopwatchId:a.id,from:{timestamp:n,id:"",limit:n},to:{timestamp:n,id:"",limit:t},subTotal:0,total:0,index:0};C(c),g(!0)}},disabled:!!d[0]&&0===d[0].to.timestamp,children:"New Entry"})]}),Object(k.jsx)(le.a,{rows:T,rowHeight:30,columns:[{field:"id",headerName:"Index",width:30,sortable:!1,filterable:!1},{field:"from",headerName:"From",width:100,editable:!0,sortable:!1,filterable:!1},{field:"to",headerName:"To",width:100,editable:!0,sortable:!1,filterable:!1},{field:"subTotal",headerName:"Sub-Total",width:120,editable:!1,sortable:!1,filterable:!1},{field:"total",headerName:"Total",width:100,editable:!1,sortable:!1,filterable:!1}],pageSize:6,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:function(e){O(e)},selectionModel:m,headerHeight:40}),x?Object(k.jsx)(ke,{show:x,entry:y,closeHandler:function(){g(!1)},newEntryHandler:function(e){D.collection("entries").add({timestamp:e,trackerId:a.id,year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),type:"stopwatchEntry"}).then((function(){})).catch((function(e){return console.log(e)}))},editHandler:function(e){console.log(e),e.commit().then((function(){console.log("we did it!"),g(!1)})).catch((function(e){e&&console.log("try again",e)}))}}):null]})})]})})),Ce=a(421),we={displayEntries:function(e){return s.d(e)}},Ne=Object(o.b)((function(e){return{user:e.user,entriesToDisplay:e.entriesToDisplay}}),we)((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(Date.now()),j=Object(n.a)(u,2),h=j[0],m=j[1],O=Object(c.useContext)(Q.a),p=Object(c.useContext)(b.a),f=Object(c.useState)([]),x=Object(n.a)(f,2),g=x[0],v=x[1];Object(c.useEffect)((function(){v([]),d(!1),s(0);var t=Object(Ce.a)(p,"entries"),a=Object(Ce.d)(t,Object(Ce.e)("trackerId","==",e.stopwatch.id),Object(Ce.e)("year","==",e.date.getFullYear()),Object(Ce.e)("month","==",e.date.getMonth()),Object(Ce.e)("day","==",e.date.getDate()),Object(Ce.c)("timestamp","asc"));return Object(Ce.b)(a,(function(e){var t=[];e.forEach((function(e){var a=e.data(),n={timestamp:a.timestamp,trackerId:a.trackerId,entryId:e.id,year:a.year,month:a.month,day:a.day,type:"stopwatchEntry"};t.push(n)})),v(t)}))}),[p,e.date,e.stopwatch.id,e.user]),Object(c.useEffect)((function(){if(!g.length)return d(!1),void s(0);var t=!(g.length%2);d(!t);var a=g.map((function(e){return e.timestamp}));if(!t){if(e.date.getTime()===O.getTime()){var n=a.pop();m(n)}e.date.getTime()!==O.getTime()&&(d(!1),a.push(new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()+1,0,0,-1).getTime()))}var c=0;a.forEach((function(e,t){t%2?c+=e:c-=e})),s(c)}),[g,e.date,O]);return Object(k.jsxs)("div",{className:K.a.Tracker,style:{borderColor:e.stopwatch.color},children:[Object(k.jsxs)("div",{className:q.a.Content,children:[Object(k.jsx)("button",{className:q.a.MainButton,onClick:function(){var t=Date.now();p.collection("entries").add({timestamp:t,trackerId:e.stopwatch.id,year:O.getFullYear(),month:O.getMonth(),day:O.getDate(),type:"stopwatchEntry"}).then((function(){})).catch((function(e){return console.log(e)}))},disabled:e.date.getTime()!==O.getTime(),children:Object(k.jsx)("svg",{width:"50",height:"50",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#").concat(l?"pause":"play","-circle")})})}),Object(k.jsx)("h5",{className:q.a.Header,children:e.stopwatch.name}),Object(k.jsx)(X.a,{isRunning:l,accum:r,lastEntry:h})]}),Object(k.jsx)("div",{className:K.a.Expand,children:Object(k.jsx)("svg",{onClick:function(t){e.selector(e.stopwatch.id)},width:"30",height:"30",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-expand")})})}),Object(k.jsx)(ye,{show:e.entriesToDisplay===e.stopwatch.id,entries:g,stopwatch:e.stopwatch,date:e.date,closeHandler:function(){return e.displayEntries("")}})]})})),Se=a(578),Te=a(433),Ee=a.n(Te),De=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){u(null),s(0);var t=Object(Ce.a)(o,"entries"),a=Object(Ce.d)(t,Object(Ce.e)("trackerId","==",e.rater.id),Object(Ce.e)("year","==",e.date.getFullYear()),Object(Ce.e)("month","==",e.date.getMonth()),Object(Ce.e)("day","==",e.date.getDate()),Object(Ce.c)("timestamp","asc"));return Object(Ce.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={timestamp:t.timestamp,value:t.value,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"raterEntry"};u(a),s(a.value)}))}))}),[o,e.date,e.rater.id,e.user]);return Object(k.jsxs)("div",{style:{borderColor:e.rater.color},className:K.a.Tracker,children:[Object(k.jsxs)("div",{className:Ee.a.Content,children:[Object(k.jsx)("h5",{className:Ee.a.Header,children:e.rater.name}),Object(k.jsx)(Se.a,{className:Ee.a.Rating,name:e.rater.id,value:r,onChange:function(t,a){var n=Date.now();d||o.collection("entries").add({value:a,timestamp:n,trackerId:e.rater.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"raterEntry"}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({value:a}).then((function(){})).catch((function(e){return console.log(e)}))},size:"large",precision:.5})]}),Object(k.jsx)("div",{className:K.a.Expand,children:Object(k.jsx)("svg",{onClick:function(t){e.selector(e.rater.id)},width:"30",height:"30",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-expand")})})})]})})),Me=a(435),Be=a.n(Me),Ie=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){u(null),s(!1);var t=Object(Ce.a)(o,"entries"),a=Object(Ce.d)(t,Object(Ce.e)("trackerId","==",e.checker.id),Object(Ce.e)("year","==",e.date.getFullYear()),Object(Ce.e)("month","==",e.date.getMonth()),Object(Ce.e)("day","==",e.date.getDate()),Object(Ce.c)("timestamp","asc"));return Object(Ce.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={timestamp:t.timestamp,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"checkerEntry",checked:t.checked};u(a),s(t.checked)}))}))}),[o,e.date,e.checker.id,e.user]);return Object(k.jsxs)("div",{className:K.a.Tracker,style:{borderColor:e.checker.color},children:[Object(k.jsxs)("div",{className:Be.a.Content,children:[Object(k.jsx)("h5",{className:Be.a.Header,children:e.checker.name}),Object(k.jsx)("div",{className:Be.a.CheckBox,children:Object(k.jsx)(F.a,{checked:r,onChange:function(){var t=Date.now(),a=!r;d||o.collection("entries").add({timestamp:t,trackerId:e.checker.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"checkerEntry",checked:a}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({checked:a}).then((function(){})).catch((function(e){return console.log(e)}))},color:"primary"})})]}),Object(k.jsx)("div",{className:K.a.Expand,children:Object(k.jsx)("svg",{onClick:function(t){e.selector(e.checker.id)},width:"30",height:"30",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-expand")})})})]})})),He=a(434),Fe=a.n(He),Re=a(436),Pe=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){s(0),u(null);var t=Object(Ce.a)(o,"entries"),a=Object(Ce.d)(t,Object(Ce.e)("trackerId","==",e.counter.id),Object(Ce.e)("year","==",e.date.getFullYear()),Object(Ce.e)("month","==",e.date.getMonth()),Object(Ce.e)("day","==",e.date.getDate()),Object(Ce.c)("timestamp","asc"));return Object(Ce.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={count:t.count,timestamp:t.timestamp,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"counterEntry"};s(t.count),u(a)}))}))}),[o,e.date,e.counter.id,e.user]);var j=function(t){var a=Date.now();d||o.collection("entries").add({count:t,timestamp:a,trackerId:e.counter.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"counterEntry"}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({count:t}).then((function(){})).catch((function(e){return console.log(e)}))};return Object(k.jsxs)("div",{className:K.a.Tracker,style:{borderColor:e.counter.color},children:[Object(k.jsxs)("div",{className:Fe.a.Content,children:[Object(k.jsx)("h5",{className:Fe.a.Header,children:e.counter.name}),Object(k.jsx)(Re.a,{count:r,size:e.counter.size,plus:j,minus:j})]}),Object(k.jsx)("div",{className:K.a.Expand,children:Object(k.jsx)("svg",{onClick:function(t){e.selector(e.counter.id)},width:"30",height:"30",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-expand")})})})]})})),ze=a(539),Le=a.n(ze),Ae=a(552),Ge=a.n(Ae),Ye=a(394),Ve=a(650),We=a(630),Ue=a(644),Ze=["stopwatch","counter","checker","rater"],qe={noActiveUser:function(){return s.j()},onSignout:function(){return s.n("")}},Je=Object(o.b)((function(e){return{user:e.user,userName:e.userName}}),qe)((function(e){var t=r.a.useState(1),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState("obj"),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(null),j=Object(n.a)(u,2),b=j[0],m=j[1],O=r.a.useState(null),f=Object(n.a)(O,2),x=f[0],g=f[1],v=r.a.useState(new Map),_=Object(n.a)(v,2),y=_[0],C=_[1],w=r.a.useState(null),N=Object(n.a)(w,2),S=N[0],T=N[1];r.a.useEffect((function(){var e=new Map;return e.set("stopwatch","Recommended"),e.set("counter","Possible"),e.set("rater","Possible"),e.set("checker",""),C(e),function(){s(1),d("obj"),m(null),g(null),T(null)}}),[e]);var E,D;switch(l){case"obj":E="i.e. Something that also an outsider looking at me could have measured";break;case"subj":E="i.e. Somebody looking from the outside couldn't tell, only i can know";break;default:E="Please select one"}switch(c){case 1:D=Object(k.jsxs)("div",{className:Ge.a.Card,children:[Object(k.jsxs)("div",{className:Ge.a.Toggle,children:[Object(k.jsx)("h5",{children:"I want to track something"}),Object(k.jsxs)("div",{onClick:function(e){e.target.closest(".obj")&&d("obj"),e.target.closest(".subj")&&d("subj")},className:Ge.a.Togglegroup,children:[Object(k.jsx)("button",{style:{borderRadius:"10px 0px 0px 10px",backgroundColor:"obj"===l?"rgb(81, 229, 255)":"white"},className:"obj",children:"objective"}),Object(k.jsx)("div",{}),Object(k.jsx)("button",{style:{borderRadius:"0px 10px 10px 0px",backgroundColor:"subj"===l?"rgb(81, 229, 255)":"white"},className:"subj",children:"subjective"}),Object(k.jsx)("svg",{className:Ge.a.Arrow,style:{right:"subj"===l?"50px":"150px"},width:"20",height:"20",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#caret-up-fill")})})]})]}),Object(k.jsx)("p",{style:{marginTop:"10px"},children:E})]});break;case 2:D=Object(k.jsx)("div",{className:Ge.a.Card,children:Object(k.jsxs)(Ye.a,{component:"fieldset",children:[Object(k.jsx)("h5",{children:"Does duration matter?"}),Object(k.jsx)(Ve.a,{"aria-label":"gender",name:"controlled-radio-buttons-group",value:b,onChange:function(e){m(e.target.value)},children:Object(k.jsxs)("div",{className:Ge.a.RadioOptions,children:[Object(k.jsx)(We.a,{value:"no",control:Object(k.jsx)(Ue.a,{}),label:"Definitely not."}),Object(k.jsx)(We.a,{value:"neutral",control:Object(k.jsx)(Ue.a,{}),label:"It's pretty much the same duration every time."}),Object(k.jsx)(We.a,{value:"yes",control:Object(k.jsx)(Ue.a,{}),label:"Duration is exactly what i want to track about it."})]})})]})});break;case 3:D=Object(k.jsx)("div",{className:Ge.a.Card,children:Object(k.jsxs)(Ye.a,{component:"div",children:[Object(k.jsxs)("h5",{children:["Does iteration matter? ",Object(k.jsx)("small",{children:"(i.e how many times...)"})]}),Object(k.jsx)(Ve.a,{value:x,onChange:function(e){g(e.target.value)},children:Object(k.jsxs)("div",{className:Ge.a.RadioOptions,children:[Object(k.jsx)(We.a,{value:"no",control:Object(k.jsx)(Ue.a,{}),label:"Definitely not."}),Object(k.jsx)(We.a,{value:"neutral",control:Object(k.jsx)(Ue.a,{}),label:"It's the same iteration every time."}),Object(k.jsx)(We.a,{value:"yes",control:Object(k.jsx)(Ue.a,{}),label:"Iteration is exactly what i want to track about it."})]})})]})});break;default:D=Object(k.jsxs)("div",{className:Ge.a.Card,style:{boxShadow:"none"},children:[Object(k.jsx)("h5",{children:"Choose a tracker:"}),Object(k.jsx)("div",{className:Ge.a.Options,children:Ze.map((function(e,t){var a,n,c,r;switch(y.get(e)){case"Recommended":a="rgb(3, 219, 57)",n=1,r=Ge.a.Recommended;break;case"Possible":a="rgb(46, 196, 255)",n=2,r=Ge.a.Possible;break;default:a="rgb(190, 190, 190)",n=4,r=Ge.a.NotRec}switch(e){case"stopwatch":c="rgb(152, 29, 135)";break;case"rater":c="rgb(12, 223, 238)";break;case"checker":c="rgb(12, 136, 238)";break;default:c="rgb(236, 54, 141)"}return Object(k.jsxs)("div",{style:{order:n,boxShadow:S===e?"1px 1px 20px 3px ".concat(a):""},onClick:function(){return T(e)},className:"".concat(Ge.a.Option,"  ").concat(r),children:[Object(k.jsx)("h5",{style:{color:a},children:y.get(e)}),Object(k.jsx)(p.a,{type:e,color:c,name:e.slice(0,1).toUpperCase()+e.slice(1),size:0,options:null})]},t)}))})]})}return Object(k.jsxs)("div",{className:Ge.a.NewUser,children:[Object(k.jsxs)("div",{className:Ge.a.Header,children:[Object(k.jsx)("h1",{children:"New Tracker Guide"}),Object(k.jsx)("p",{children:"In just a minute, we'll choose the right Tracker type for you"})]}),Object(k.jsx)(h.a,{}),Object(k.jsx)("div",{className:Ge.a.Body,children:D}),Object(k.jsx)(h.a,{}),Object(k.jsxs)("div",{className:Ge.a.ButtonPanel,children:[Object(k.jsx)("button",{onClick:function(){s(4===c?"subj"===l?1:"yes"===b?2:3:c-1)},disabled:1===c,className:Ge.a.Back,children:"Back"}),Object(k.jsx)("button",{disabled:function(){var e;switch(c){case 1:e=!l;break;case 2:e=!b;break;case 3:e=!x;break;case 4:e=!S;break;default:e=!0}return e}(),onClick:function(){var t=new Map;4!==c?(3===c&&("yes"===x?(t.set("stopwatch",""),t.set("counter","Recommended"),t.set("rater",""),t.set("checker","Possible"),T("counter")):(t.set("stopwatch","Possible"),t.set("counter","Possible"),t.set("rater",""),t.set("checker","Recommended"),T("checker")),s(4)),2===c&&("yes"===b?(t.set("stopwatch","Recommended"),t.set("counter",""),t.set("rater",""),t.set("checker","Possible"),T("stopwatch"),s(4)):s(3)),1===c&&("subj"===l?(t.set("stopwatch",""),t.set("counter",""),t.set("rater","Recommended"),t.set("checker",""),T("rater"),s(4)):s(2)),C(t)):e.onFinish(S)},className:Ge.a.Next,children:"Next"})]})]})})),Ke=a(553),Xe=a.n(Ke),Qe=function(e){var t=r.a.useState("rater"),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState("rgb(12, 223, 238)"),i=Object(n.a)(o,2),l=i[0],d=i[1];r.a.useEffect((function(){return function(){s("rater"),d("rgb(12, 223, 238)")}}),[e]);return Object(k.jsxs)("div",{className:Xe.a.Modal,children:[Object(k.jsx)("div",{className:Xe.a.Header,children:Object(k.jsx)("h1",{children:"Choose a Tracker type"})}),Object(k.jsx)(h.a,{}),Object(k.jsx)("div",{className:Xe.a.Options,children:[{name:"Rater",type:"rater",color:"rgb(12, 223, 238)"},{name:"Checker",type:"checker",color:"rgb(12, 136, 238)"},{name:"Stopwatch",type:"stopwatch",color:"rgb(152, 29, 135)"},{name:"Counter",type:"counter",color:"rgb(236, 54, 141)"}].map((function(e){return Object(k.jsxs)("div",{className:Xe.a.Option,onClick:function(){s(e.type),d(e.color)},children:[Object(k.jsx)("div",{className:Xe.a.Arrow,children:Object(k.jsx)("svg",{width:"30",height:"30",fill:e.color,color:e.type===c?e.color:"white",children:Object(k.jsx)("use",{href:"".concat(B.a,"#caret-right-fill")})})}),Object(k.jsx)(p.a,{type:e.type,color:e.color,name:e.name,size:1,options:null})]},e.name)}))}),Object(k.jsx)("div",{className:Xe.a.NotSure,children:Object(k.jsxs)("div",{className:Xe.a.Large,style:{backgroundColor:l},children:[Object(k.jsx)("button",{onClick:e.onNotSure,className:Xe.a.Left,children:"Not Sure?"}),Object(k.jsx)("button",{onClick:function(){e.onNext(c)},className:Xe.a.Right,children:"Next"})]})})]})},$e=a(554),et=a.n($e),tt=a(555),at=a.n(tt),nt=function(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(""),j=Object(n.a)(u,2),b=j[0],h=j[1];r.a.useEffect((function(){s(e.value)}),[e]);var m=function(t){d(!0);var a,n=t.target.value;s(n),e.validators.forEach((function(e){a=e(n)?e(n):a})),h(a)},O="rgb(0, 153, 255)";return l&&b&&(O="red"),e.readOnly&&(O="lightgrey"),Object(k.jsxs)("form",{style:{zIndex:e.readOnly?0:1},onSubmit:function(t){t.preventDefault(),e.submitHandler(c)},className:at.a.Form,children:["textarea"===e.type?Object(k.jsx)("textarea",{style:{borderColor:O,width:e.width?e.width:"max-content"},id:e.name,value:c,readOnly:e.readOnly,onChange:m}):Object(k.jsx)("input",{style:{borderColor:O,width:e.width?e.width:""},id:e.name,type:e.type,value:c,readOnly:e.readOnly,onChange:m}),Object(k.jsx)("div",{className:at.a.Message,children:Object(k.jsx)("p",{children:b})}),Object(k.jsx)("button",{style:{display:e.readOnly?"none":"unset",bottom:"textarea"===e.type?"10px":"unset",top:"textarea"!==e.type?"10px":"unset"},disabled:!!b,className:at.a.Save,type:"submit",children:"Save"})]})},ct=a(556),rt=a.n(ct),st=function(e){if(!e.display)return null;return Object(k.jsxs)("div",{className:rt.a.Box,children:[Object(k.jsx)("button",{style:{display:e.closable?"unset":"none"},onClick:function(){e.onClose(e.name)},className:rt.a.Button,children:"x"}),Object(k.jsx)("h5",{className:rt.a.Label,children:e.label}),Object(k.jsx)("main",{children:e.children})]})},ot=a(557),it=a.n(ot),lt=function(e){var t=r.a.useState(0),a=Object(n.a)(t,2),c=a[0],s=a[1];return Object(k.jsxs)("div",{className:it.a.ColorPicker,children:[Object(k.jsxs)("div",{className:it.a.Switch,children:[Object(k.jsx)("button",{style:{backgroundColor:c?"unset":"rgb(231, 231, 231)"},onClick:function(){return s(0)},children:"Circles"}),Object(k.jsx)("button",{style:{backgroundColor:c?"rgb(231, 231, 231)":"unset"},onClick:function(){return s(280)},children:"Chrome"})]}),Object(k.jsx)("div",{className:it.a.Pickers,children:Object(k.jsxs)("div",{className:it.a.Slider,style:{transform:"translateX(-".concat(c,"px)")},children:[Object(k.jsx)("div",{className:it.a.Picker,children:Object(k.jsx)(j.b,{onChangeComplete:e.onChange,color:e.color})}),Object(k.jsx)("div",{className:it.a.Picker,children:Object(k.jsx)(j.a,{onChangeComplete:e.onChange,color:e.color})})]})})]})},dt=a(558),ut=a.n(dt),jt=function(e){return Object(k.jsx)("div",{className:ut.a.Backdrop,children:Object(k.jsxs)("div",{className:ut.a.Modal,children:[Object(k.jsxs)("div",{className:ut.a.Message,children:[Object(k.jsx)("h2",{children:e.main}),Object(k.jsx)("p",{children:e.sub})]}),Object(k.jsxs)("div",{className:ut.a.ButtonPanel,children:[Object(k.jsx)("button",{className:ut.a.No,onClick:e.onNo,children:"Cancel"}),Object(k.jsx)("button",{className:ut.a.Yes,onClick:e.onYes,children:"I'm sure"})]})]})})},bt={deleteTracker:function(e,t){return s.c(e,t)},deleteEntries:function(e,t){return s.b(e,t)},updateField:function(e,t,a,n){return s.o(e,t,a,n)},displayEntries:function(e){return s.d(e)}},ht=Object(o.b)((function(e){return{user:e.user}}),bt)((function(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState(""),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(""),j=Object(n.a)(u,2),h=j[0],m=j[1],O=r.a.useState(""),p=Object(n.a)(O,2),f=p[0],x=p[1],g=r.a.useState(""),v=Object(n.a)(g,2),_=v[0],y=v[1],C=r.a.useState(1),w=Object(n.a)(C,2),N=w[0],S=w[1],T=r.a.useState(!1),E=Object(n.a)(T,2),D=E[0],M=E[1],I=r.a.useContext(b.a);r.a.useEffect((function(){if(I){var t=Object(Ce.a)(I,"trackers"),a=Object(Ce.d)(t,Object(Ce.e)("id","==",e.id)),n=Object(Ce.b)(a,(function(e){e.forEach((function(e){var t=e.data();d(t.name),m(t.type),x(t.description),y(t.color),S(t.size)}))}));return e.user||n(),n}}),[e,I]);var H=function(e){},F=function(e){s(e)},R=function(t,a){e.updateField(I,e.id,t,a)};return Object(k.jsx)("div",{className:et.a.Container,children:Object(k.jsxs)("div",{className:et.a.Modal,style:{borderColor:_},children:[Object(k.jsxs)("div",{className:et.a.Field,children:[Object(k.jsx)(st,{label:"Name",name:"name",closable:!1,display:!0,onClose:H,children:Object(k.jsxs)("div",{className:et.a.Header,children:[Object(k.jsx)(nt,{name:"Name",value:l,width:void 0,description:"the name and stuff",type:"text",readOnly:"name"!==c,submitHandler:function(e){R("name",e),s("")},validators:[function(e){return e.toString().length<1?"Must have a name":""},function(e){return e.toString().length>19?"Name cannot be longer than 20 characters":""}]}),Object(k.jsx)("p",{className:et.a.HeaderType,children:h}),Object(k.jsx)("button",{className:et.a.Pen,onClick:function(){return F("name")},children:Object(k.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#pen")})})})]})}),Object(k.jsx)(st,{label:"Description",name:"description",closable:!1,display:!0,onClose:H,children:Object(k.jsxs)("div",{className:et.a.Description,children:[Object(k.jsx)(nt,{name:"Description",value:f,width:void 0,description:"the name and stuff",type:"textarea",readOnly:"description"!==c,submitHandler:function(e){R("description",e),s("")},validators:[function(e){return e.toString().length>200?"Description cannot be longer than 200 characters":""}]}),Object(k.jsx)("button",{className:et.a.Pen,onClick:function(){return F("description")},children:Object(k.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#pen")})})})]})}),"counter"===h?Object(k.jsx)(st,{label:"Step Size",name:"stepSize",closable:!1,display:!0,onClose:H,children:Object(k.jsxs)("div",{className:et.a.StepSize,children:[Object(k.jsx)(nt,{name:"Step Size",value:N,width:"40px",description:"the name and stuff",type:"number",readOnly:"stepSize"!==c,submitHandler:function(e){R("size",e),s("")},validators:[function(e){return e<1?"Step size has to be at least 1":""}]}),Object(k.jsx)("button",{className:et.a.Pen,onClick:function(){return F("stepSize")},children:Object(k.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#pen")})})})]})}):null]}),Object(k.jsx)(st,{label:"Color",name:"actions",closable:!1,display:!0,onClose:H,children:Object(k.jsx)("div",{className:et.a.Color,children:Object(k.jsx)(lt,{color:_,onChange:function(e){console.log(e.hex),R("color",e.hex)}})})}),Object(k.jsx)(st,{label:"",name:"actions",closable:!1,display:!0,onClose:H,children:Object(k.jsxs)("div",{className:et.a.ButtonPanel,children:["stopwatch"===h?Object(k.jsxs)("button",{onClick:function(){e.displayEntries(e.id),e.onClose()},className:et.a.EntriesButton,children:[Object(k.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#list")})}),"Entries"]}):null,Object(k.jsx)("button",{onClick:function(){M(!0)},className:et.a.DeleteButton,children:"Delete Tracker"})]})}),Object(k.jsx)("div",{style:{display:""===c?"none":"unset"},onClick:function(){s("")},className:et.a.Backdrop}),D?Object(k.jsx)(jt,{main:"Are you Sure?",sub:"This action cannot be reversed...",onYes:function(){e.deleteTracker(I,e.id),e.deleteEntries(I,e.id),e.onClose()},onNo:function(){return M(!1)}}):null]})})})),mt=r.a.memo((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useContext)(Q.a),j=Object(c.useState)(!1),b=Object(n.a)(j,2),h=b[0],m=b[1],O=Object(c.useState)(!1),p=Object(n.a)(O,2),f=p[0],x=p[1],g=Object(c.useState)(""),v=Object(n.a)(g,2),_=v[0],y=v[1],C=Object(c.useState)(null),N=Object(n.a)(C,2),S=N[0],T=N[1],E=Object(c.useState)(u),D=Object(n.a)(E,2),M=D[0],B=D[1],I=Object(c.useState)(!1),H=Object(n.a)(I,2),F=H[0],R=H[1];Object(c.useEffect)((function(){e.higherIsEmpty&&(m(!0),console.log("is empty"))}),[e.higherIsEmpty]),Object(c.useEffect)((function(){u&&B(u)}),[u]);var P=function(){s(!1)},z=function(e){T(e),R(!0)};return Object(k.jsxs)("div",{className:U.a.Trackers,children:[Object(k.jsxs)("div",{className:U.a.UpperContainer,children:[Object(k.jsx)("div",{className:U.a.DatePicker,children:Object(k.jsx)(Le.a,{maxDate:u,value:M,locale:"en-EN",onChange:B,clearIcon:null})}),Object(k.jsxs)("div",{className:U.a.Container,children:[Object(k.jsx)("button",{onClick:function(){x(!0)},className:U.a.NewTrackerButton,children:"NEW TRACKER"}),e.stopwatches.map((function(e){return Object(k.jsx)(Ne,{stopwatch:e,date:M,selector:z},e.id)})),e.raters.map((function(e){return Object(k.jsx)(De,{rater:e,selector:z,date:M},e.id)})),e.checkers.map((function(e){return Object(k.jsx)(Ie,{selector:z,checker:e,date:M},e.id)})),e.counters.map((function(e){return Object(k.jsx)(Pe,{selector:z,counter:e,date:M},e.id)}))]})]}),r?Object(k.jsx)(_e.a,{show:!0,onHide:P,children:Object(k.jsx)(w,{onFinish:P,type:_})}):null,Object(k.jsx)(V,{show:l,closeHandler:function(){return d(!1)},checkers:e.checkers,raters:e.raters}),Object(k.jsx)(_e.a,{show:h,onHide:function(){e.setValidateModal("You can always return to this guide through NEW TRACKER",(function(){m(!1)}))},children:Object(k.jsx)(Je,{onFinish:function(e){y(e),m(!1),s(!0)},onClose:function(){return m(!1)}})}),Object(k.jsx)(_e.a,{show:f,onHide:function(){return x(!1)},children:Object(k.jsx)(Qe,{onNext:function(e){x(!1),y(e),T(null),s(!0)},onNotSure:function(){x(!1),m(!0)}})}),F?Object(k.jsx)(_e.a,{show:F,onHide:function(){return R(!1)},children:Object(k.jsx)(ht,{id:S,onClose:function(){return R(!1)}})}):null]})})),Ot={setValidateModal:function(e,t){return s.l(e,t)}},pt=Object(o.b)((function(e){return{errorMessage:e.errorMessage}}),Ot)(mt),ft=a(559),xt=a.n(ft),gt=a(560),vt=a.n(gt),_t=a(561),kt=a.n(_t),yt=r.a.memo((function(e){var t=e.color,a=e.name,n=e.selectHandler,c=e.id,r=e.selected;return Object(k.jsxs)("button",{onClick:function(){return n(c)},className:kt.a.Label,children:[Object(k.jsx)("div",{style:{backgroundColor:r?t:"transparent",borderColor:t}}),Object(k.jsx)("p",{children:a})]})})),Ct=r.a.memo((function(e){var t=e.checkers,a=e.raters,r=e.stopwatches,s=e.handler,o=e.selectedTrackers,i=e.counters,l=Object(c.useState)(["stopwatches","raters","checkers","counters"]),d=Object(n.a)(l,2),u=d[0],j=d[1];return Object(k.jsx)("div",{className:vt.a.TrackerSelector,children:Object(k.jsxs)(D.a,{defaultCollapseIcon:Object(k.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-up")})}),defaultExpandIcon:Object(k.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(k.jsx)("use",{href:"".concat(B.a,"#chevron-down")})}),expanded:u,selected:o.map((function(e){return e.id})),onNodeToggle:function(e,t){j(t)},onNodeSelect:function(e,t){s(t)},children:[Object(k.jsxs)(M.a,{nodeId:"raters",label:"Raters",children:[a.map((function(e){return Object(k.jsx)(yt,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),a.length?null:Object(k.jsx)("p",{children:"no raters yet..."})]}),Object(k.jsxs)(M.a,{nodeId:"stopwatches",label:"Stopwatches",children:[r.map((function(e){return Object(k.jsx)(yt,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),r.length?null:Object(k.jsx)("p",{children:"no stopwatches yet..."})]}),Object(k.jsxs)(M.a,{nodeId:"checkers",label:"Checkers",children:[t.map((function(e){return Object(k.jsx)(yt,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),t.length?null:Object(k.jsx)("p",{children:"no checkers yet..."})]}),Object(k.jsxs)(M.a,{nodeId:"counters",label:"Counters",children:[i.map((function(e){return Object(k.jsx)(yt,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),i.length?null:Object(k.jsx)("p",{children:"no counters yet..."})]})]})})})),wt=a(562),Nt=a.n(wt),St=a(563),Tt=a.n(St),Et=r.a.memo((function(e){var t=e.dateRange,a=e.setDateRange,n=e.todaysDate;return Object(k.jsx)("div",{className:Nt.a.Selector,style:{zIndex:1e4},children:Object(k.jsx)(Tt.a,{value:t,maxDate:n,locale:"en-EN",onChange:a,clearIcon:null})})})),Dt=a(567),Mt=a.n(Dt),Bt=r.a.memo((function(e){var t=e.labels,a=e.datasets,n=e.options,r=e.width,s=Object(c.useRef)(null),o=Object(c.useCallback)((function(e){if(e){var t=e.getContext("2d");t&&(s.current=new ce.a(t,{type:"bar",data:{datasets:[]}}))}}),[]);return Object(c.useEffect)((function(){s.current&&(s.current.data={labels:t,datasets:a},s.current.options=n,s.current.update())}),[a,t,n]),Object(k.jsx)(_.a,{children:Object(k.jsx)("div",{className:Mt.a.BarChart,style:{width:r},children:Object(k.jsx)("canvas",{ref:o})})})})),It=a(568),Ht=r.a.memo((function(e){var t=e.stopwatches,a=e.selectedTrackers,r=e.stopwatchEntries,s=e.raters,o=e.raterEntries,i=e.dateStrings,l=e.checkers,d=e.counters,u=e.counterEntries,j=e.checkerEntries,b=Object(c.useState)([]),h=Object(n.a)(b,2),m=h[0],O=h[1],p=Object(c.useState)({}),f=Object(n.a)(p,2),x=f[0],g=f[1],v=Object(c.useContext)(Q.a);return Object(c.useEffect)((function(){var e={elements:{point:{radius:1}},interaction:{mode:"index",intersect:!1},stacked:!1,scales:{y:{type:"linear",display:!1,position:"left",title:{display:!1}},y1:{suggestedMax:5,ticks:{stepSize:1},type:"linear",display:!0,position:"right",title:{display:!0,text:"Rating"},grid:{drawOnChartArea:!0}}},plugins:{tooltip:{enabled:!1,displayColors:!1},legend:{display:!1}}};if(!a.length)return O([{data:[0,0,0,0,0,0,0],backgroundColor:"black",borderColor:"black",type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1}]),void g(e);var n=[];t.forEach((function(t){if(a.map((function(e){return e.id})).includes(t.id)){e.scales.y.display=!0,e.scales.y.suggestedMax=4,e.scales.y.title={display:!0,text:"Hours"},e.scales.y1.grid.drawOnChartArea=!1;var c=[];r.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}));if(a.length%2){var n=a[a.length-1],r=new Date(n.year,n.month,n.day).getTime()===v.getTime();if(!r){var s=function(e){var t=new Date(e.year,e.month,e.day+1,0,0,-1).getTime();return Object(he.a)(Object(he.a)({},e),{},{timestamp:t})}(n);a.push(s)}r&&a.push(Object(he.a)(Object(he.a)({},n),{},{timestamp:Date.now()}))}var o=0;a.forEach((function(e,t){t%2===0?o-=e.timestamp:o+=e.timestamp}));var i=o/36e5;c.unshift(i)}));var s={data:c,backgroundColor:t.color,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(s)}})),s.forEach((function(e){if(a.map((function(e){return e.id})).includes(e.id)){var t=[];o.forEach((function(a){var n,c=a.filter((function(t){return t.trackerId===e.id})),r=null===(n=c[c.length-1])||void 0===n?void 0:n.value;t.unshift(r||null)}));var c={data:t,backgroundColor:e.color,borderColor:e.color,type:"line",stepped:!1,order:0,yAxisID:"y1",tension:.4};n.push(c)}})),l.forEach((function(t){if(a.map((function(e){return e.id})).includes(t.id)){e.scales.y.display=!1,e.scales.y1.grid.drawOnChartArea=!0;var c=[];j.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}))[0];c.unshift((null===a||void 0===a?void 0:a.checked)?1:0)}));var r=Object(It.a)(t.color),s="rgba(".concat(r.red,", ").concat(r.green,", ").concat(r.blue,", 0.6)"),o={data:c,backgroundColor:s,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(o)}})),d.forEach((function(t){if(e.scales.y.display=!0,a.map((function(e){return e.id})).includes(t.id)){e.scales.y.suggestedMax=t.size,e.scales.y.title.text="Count",e.scales.y1.grid.drawOnChartArea=!1;var c=[];u.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}))[0],n=null===a||void 0===a?void 0:a.count;c.unshift(n||0)}));var r={data:c,backgroundColor:t.color,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(r)}})),O(n),g(e)}),[r,a,t,o,s,l,j,d,u,v]),Object(k.jsx)("div",{style:{display:"flex",flexFlow:"column"},children:Object(k.jsx)(Bt,{datasets:m,labels:i,options:x,width:""})})})),Ft=(a(453),r.a.memo((function(e){var t=e.stopwatches,a=e.checkers,r=e.raters,s=e.selectedTrackers,o=e.dateRange,i=e.counters,l=Object(c.useState)(new Map),d=Object(n.a)(l,2),u=d[0],j=d[1],h=Object(c.useState)(new Map),m=Object(n.a)(h,2),O=m[0],p=m[1],f=Object(c.useState)(new Map),x=Object(n.a)(f,2),g=x[0],v=x[1],_=Object(c.useState)(new Map),y=Object(n.a)(_,2),C=y[0],w=y[1],N=Object(c.useState)([]),S=Object(n.a)(N,2),T=S[0],E=S[1],D=Object(c.useContext)(b.a),M=Object(c.useContext)(Q.a);return console.log("rendering chart selector"),Object(c.useEffect)((function(){var e=function(e){for(var t=[],a=e[1].getFullYear(),n=e[1].getMonth(),c=(e[1].getTime()-e[0].getTime())/864e5,r=0;r<Math.round(c);r++){var s=e[1].getDate()-r,o=new Date(a,n,s),i=o.getDate(),l=o.getMonth(),d=o.getFullYear();t.push({year:d,month:l,day:i})}return t}(o),t=e.map((function(e){return"".concat(e.day,"/").concat(e.month+1)}));E(t.reverse());var a=new Map,n=new Map,c=new Map,r=new Map;(function(e,t){return me.apply(this,arguments)})(D,e).then((function(e){e.forEach((function(e,s){var o=[],i=[],l=[],d=[];e.forEach((function(e){var t=e.data();switch(t.type){case"stopwatchEntry":o.push(t);break;case"raterEntry":i.push(t);break;case"counterEntry":d.push(t);break;default:l.push(t)}})),a.set(t[s],o),n.set(t[s],i),c.set(t[s],l),r.set(t[s],d)})),j(a),v(n),p(c),w(r)}))}),[M,D,o]),Object(k.jsx)("div",{style:{marginLeft:"4px"},children:Object(k.jsx)(Ht,{stopwatchEntries:u,checkerEntries:O,raterEntries:g,counterEntries:C,stopwatches:t,raters:r,checkers:a,counters:i,selectedTrackers:s,dateStrings:T})})}))),Rt=r.a.memo((function(e){var t=e.stopwatches,a=e.raters,r=e.checkers,s=e.counters,o=Object(c.useContext)(Q.a),i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){t.length&&a.length&&u([a[0],t[0]])}),[t,a]);var j=Object(c.useState)([new Date,new Date]),b=Object(n.a)(j,2),h=b[0],m=b[1];console.log("rendering DataPanel"),Object(c.useEffect)((function(){o&&m([new Date(o.getFullYear(),o.getMonth(),o.getDate()-7),new Date(o.getFullYear(),o.getMonth(),o.getDate())])}),[o]);return Object(k.jsxs)("div",{className:xt.a.DataPanel,children:[Object(k.jsx)(Et,{todaysDate:o,dateRange:h,setDateRange:m}),Object(k.jsxs)("div",{className:xt.a.Main,children:[Object(k.jsx)(Ct,{raters:a,stopwatches:t,checkers:r,counters:s,handler:function(e){var n=!1,c=[],o=[].concat(Object(N.a)(t),Object(N.a)(a),Object(N.a)(r),Object(N.a)(s)).filter((function(t){return e===t.id}))[0];o&&(d.forEach((function(t){t.id===e&&(n=!0)})),n&&(c=d.filter((function(t){return t.id!==e}))),n||(c=[].concat(Object(N.a)(d),[o]),"stopwatch"===o.type&&(c=c.filter((function(e){return"checker"!==e.type&&"counter"!==e.type}))),"checker"===o.type&&(c=c.filter((function(e){return"stopwatch"!==e.type&&"counter"!==e.type}))),"counter"===o.type&&(c=c.filter((function(e){return"stopwatch"!==e.type&&"checker"!==e.type})))),u(c))},selectedTrackers:d}),Object(k.jsx)(Ft,{dateRange:h,stopwatches:t,selectedTrackers:d,raters:a,checkers:r,counters:s})]})]})})),Pt=a(76),zt=a.n(Pt),Lt=Object(o.b)((function(e){return{user:e.user,selectedView:e.selectedView}}));t.default=Lt((function(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)([]),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)([]),j=Object(n.a)(u,2),h=j[0],m=j[1],O=Object(c.useState)([]),p=Object(n.a)(O,2),f=p[0],x=p[1],g=Object(c.useState)(!1),v=Object(n.a)(g,2),y=v[0],C=v[1],w=Object(c.useContext)(b.a),N=Object(c.useContext)(Q.a);Object(c.useEffect)((function(){if(w){var t=Object(Ce.b)(Object(Ce.a)(w,"trackers"),{},(function(e){var t=[],a=[],n=[],c=[];e.empty&&C(!0),e.forEach((function(e){var r=e.data();switch(r.type){case"stopwatch":t.push(r);break;case"rater":a.push(r);break;case"counter":c.push(r);break;default:n.push(r)}})),s(t),m(n),d(a),x(c)}));return e.user||t(),t}}),[w,e.user]);var S=null,T=null;N&&e.user&&(S=Object(k.jsx)(Rt,{stopwatches:r,raters:l,checkers:h,counters:f}),T=Object(k.jsx)(pt,{stopwatches:r,raters:l,checkers:h,counters:f,higherIsEmpty:y}));var E=T;return"data"===e.selectedView&&(E=S),Object(k.jsx)(_.a,{children:Object(k.jsx)("div",{className:zt.a.Background,children:E})})}))}}]);
//# sourceMappingURL=4.9c6ff3c8.chunk.js.map