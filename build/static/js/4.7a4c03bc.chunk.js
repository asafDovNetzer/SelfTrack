(this["webpackJsonpself-track"]=this["webpackJsonpself-track"]||[]).push([[4],{421:function(e,t,a){"use strict";var n=a(9);t.a=function(){return Object(n.jsx)("div",{style:{width:"100%",height:"1px",backgroundImage:"linear-gradient(to right, white, grey, white)"}})}},422:function(e,t,a){e.exports={Tracker:"Tracker_Tracker__3ovyp",Expand:"Tracker_Expand__2hQt9",Header:"Tracker_Header__2Z-aS"}},451:function(e,t,a){e.exports={Content:"Stopwatch_Content__3seJN",Header:"Stopwatch_Header__3WRJs",MainButton:"Stopwatch_MainButton__Xtp0K"}},452:function(e,t,a){e.exports={Content:"Rater_Content__3fnIG",Header:"Rater_Header__2iJvZ",Rating:"Rater_Rating__fa4Sp"}},453:function(e,t,a){e.exports={Content:"Counter_Content__3GsA1",Header:"Counter_Header__2uGCX"}},454:function(e,t,a){e.exports={CheckBox:"Checker_CheckBox__8GKH-",Content:"Checker_Content__34-M0",Header:"Checker_Header__2TFSU"}},478:function(e,t,a){e.exports={Modal:"TrackersForm_Modal__Kik1V",Header:"TrackersForm_Header__2Brvh",Selector:"TrackersForm_Selector__3JBOO",Body:"TrackersForm_Body__2wlBe",Circle:"TrackersForm_Circle__2KvEL",RedCircle:"TrackersForm_RedCircle__CI0z1",Buttons:"TrackersForm_Buttons__1oy1z",Button:"TrackersForm_Button__9d7Jf",BackButton:"TrackersForm_BackButton__1Eb3b",Form:"TrackersForm_Form__3LHZx",Step:"TrackersForm_Step__3h1TQ",StepContent:"TrackersForm_StepContent__2Z747",ColorField:"TrackersForm_ColorField__17Ipo",Field:"TrackersForm_Field__2PJ_4",FloatingButton:"TrackersForm_FloatingButton__1LEwx"}},519:function(e,t,a){e.exports={Counter:"Icons_Counter__NThdM",Left:"Icons_Left__2w5Dn",Right:"Icons_Right__AH45A",Count:"Icons_Count__3HIsl"}},520:function(e,t,a){e.exports={Clock:"Clock_Clock__I3wu-"}},523:function(e,t,a){e.exports={CardHeader:"SurveyForm_CardHeader__3GZP2",List:"SurveyForm_List__3VN1A",Transfer:"SurveyForm_Transfer__NIDYV",Movers:"SurveyForm_Movers__ZnRYR"}},526:function(e,t,a){e.exports={Trackers:"Trackers_Trackers__1zNZe",NewTrackerButton:"Trackers_NewTrackerButton__3o3q4",UpperContainer:"Trackers_UpperContainer__2wTXi",Container:"Trackers_Container__2MFOo",DatePicker:"Trackers_DatePicker__2s6lh"}},527:function(e,t,a){e.exports={Entries:"StopwatchEntries_Entries__trl9H",Header:"StopwatchEntries_Header__28woA",Body:"StopwatchEntries_Body__xnW4u",NewEntryButton:"StopwatchEntries_NewEntryButton__25tlb",Tablehead:"StopwatchEntries_Tablehead__1t_kg",ListItem:"StopwatchEntries_ListItem__3ni0F",Dropdown:"StopwatchEntries_Dropdown__24rx5"}},528:function(e,t,a){e.exports={BarChartPreAmp:"BarChartPreAmp_BarChartPreAmp__3-nTm"}},529:function(e,t,a){e.exports={BarChart:"BarChart_BarChart__3cQVs"}},530:function(e,t,a){e.exports={Field:"EntryEditForm_Field__3Tdcb",Limit:"EntryEditForm_Limit__3WxXf",Form:"EntryEditForm_Form__3lfW3"}},548:function(e,t,a){e.exports={NewUser:"NewTrackerGuide_NewUser__12zqJ",Form:"NewTrackerGuide_Form__ys7Wm",RadioOptions:"NewTrackerGuide_RadioOptions__JoVOV",Toggle:"NewTrackerGuide_Toggle__3SplK",Togglegroup:"NewTrackerGuide_Togglegroup__L6eD4",Arrow:"NewTrackerGuide_Arrow__9jM55",Card:"NewTrackerGuide_Card__2sHIH",Body:"NewTrackerGuide_Body__1p2yI",Options:"NewTrackerGuide_Options__1ZUdn",Option:"NewTrackerGuide_Option__hdPbm",Recommended:"NewTrackerGuide_Recommended__3IdxW",Possible:"NewTrackerGuide_Possible__34xLx",NotRec:"NewTrackerGuide_NotRec__2Cy1-",ButtonPanel:"NewTrackerGuide_ButtonPanel__2qAyC",Next:"NewTrackerGuide_Next__2PBK2",Back:"NewTrackerGuide_Back__2cL8a",Header:"NewTrackerGuide_Header__KPT1a"}},549:function(e,t,a){e.exports={Modal:"NewTracker_Modal__K9oGT",Header:"NewTracker_Header__32Omx",Options:"NewTracker_Options__IKVm3",Option:"NewTracker_Option__3iGNs",Arrow:"NewTracker_Arrow__1bvLO",NotSure:"NewTracker_NotSure__3am8Z",Large:"NewTracker_Large__EpJVD",Left:"NewTracker_Left__1bbZN",Right:"NewTracker_Right__2Zzdo"}},550:function(e,t,a){e.exports={Container:"ExpandedTracker_Container__2qnHp",Modal:"ExpandedTracker_Modal__YSemr",Field:"ExpandedTracker_Field__2kjfR",Backdrop:"ExpandedTracker_Backdrop__zrGCv",Header:"ExpandedTracker_Header__18ZkH",HeaderType:"ExpandedTracker_HeaderType__1v3G1",Pen:"ExpandedTracker_Pen__33ZG8",Color:"ExpandedTracker_Color__E2ssn",Description:"ExpandedTracker_Description__2SFVy",StepSize:"ExpandedTracker_StepSize__1U5BU",ButtonPanel:"ExpandedTracker_ButtonPanel__3jrBp",EditButton:"ExpandedTracker_EditButton__1RBfD",DeleteButton:"ExpandedTracker_DeleteButton__3I1Av"}},551:function(e,t,a){e.exports={Form:"InputField_Form__2DsNl",Save:"InputField_Save__DJ7ve",Message:"InputField_Message__6gLWi"}},552:function(e,t,a){e.exports={Box:"Box_Box__1uBEq",Label:"Box_Label__37x2B",Button:"Box_Button__31I1y"}},553:function(e,t,a){e.exports={ColorPicker:"ColorPicker_ColorPicker__23cjM",Switch:"ColorPicker_Switch__2NkF5",Pickers:"ColorPicker_Pickers__3eE63",Slider:"ColorPicker_Slider__AQqsv",Picker:"ColorPicker_Picker__9EGeW"}},554:function(e,t,a){e.exports={Modal:"MessageModal_Modal__34v65",Message:"MessageModal_Message__1WMYs",ButtonPanel:"MessageModal_ButtonPanel__3SKYm",Yes:"MessageModal_Yes__1LOfq",No:"MessageModal_No__hCXI_",Backdrop:"MessageModal_Backdrop__dGCPa"}},555:function(e,t,a){e.exports={DataPanel:"DataPanel_DataPanel__2TvCl",Main:"DataPanel_Main__3mO9g",Chart:"DataPanel_Chart__2NxcX",main:"DataPanel_main__1bcgu"}},556:function(e,t,a){e.exports={TrackerSelector:"TrackerSelector_TrackerSelector__13Imw"}},557:function(e,t,a){e.exports={Label:"Label_Label__1Ou9W"}},558:function(e,t,a){e.exports={Selector:"RangeSelector_Selector__1o0hR",Calender:"RangeSelector_Calender__3YZIM"}},563:function(e,t,a){e.exports={BarChart:"BarLineChart_BarChart__UHoXd"}},628:function(e,t,a){"use strict";a.r(t);var n=a(18),c=a(1),r=a.n(c),s=a(38),o=a(34),i=a(46),l=a(87),d=a(478),u=a.n(d),j=a(464),b=a(175),h=a(421),m=a(402),O=a(116),p=a(451),f=a.n(p),x=a(452),g=a.n(x),v=a(453),_=a.n(v),k=a(454),y=a.n(k),C=a(422),w=a.n(C),N=a(82),S=a(638),T=a(519),E=a.n(T),M=a(9),D=function(e){return Object(M.jsxs)("div",{className:"".concat(E.a.Counter," main-button"),children:[Object(M.jsx)("button",{className:E.a.Left,onClick:function(){e.plus(+e.count+e.size)},children:"+"}),Object(M.jsx)("div",{className:E.a.Count,children:Object(M.jsx)("h3",{children:e.count})}),Object(M.jsx)("button",{disabled:e.count-e.size<0,className:E.a.Right,onClick:function(){var t=e.count-e.size;t<0||e.minus(t)},children:"-"})]})},B=function(e){if(e<0)return"--:--:--";var t=Math.round(e/1e3),a=(t%60).toString().padStart(2,"0"),n=Math.floor(t/60%60).toString().padStart(2,"0"),c=Math.floor(t/3600).toString().padStart(2,"0");return"".concat(c,":").concat(n,":").concat(a)},I=function(e){var t=new Date(e),a=t.getSeconds().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),c=t.getHours().toString().padStart(2,"0");return"".concat(c,":").concat(n,":").concat(a)},H=a(520),F=a.n(H),R=function(e){var t=e.accum,a=e.isRunning,r=e.lastEntry,s=Object(c.useState)("00:00:00"),o=Object(n.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(0),u=Object(n.a)(d,2),j=u[0],b=u[1],h=Object(c.useCallback)((function(){b(Date.now()-r)}),[r]);return Object(c.useEffect)((function(){var e;return a||b(0),a&&(h(),e=window.setInterval((function(){h()}),1e3)),function(){window.clearInterval(e)}}),[a,h]),Object(c.useEffect)((function(){var e=B(j+t);l(e)}),[t,r,j]),Object(M.jsx)("div",{className:F.a.Clock,children:Object(M.jsx)("h3",{children:i})})},P=r.a.memo((function(e){var t=e.type,a=e.color,c=e.name,s=e.size,o=r.a.useState(0),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(!0),j=Object(n.a)(u,2),b=j[0],h=j[1],m=r.a.useState(0),O=Object(n.a)(m,2),p=O[0],x=O[1],v=r.a.useState(!1),k=Object(n.a)(v,2),C=k[0],T=k[1],E=r.a.useState(Date.now()),B=Object(n.a)(E,2),I=B[0],H=B[1];console.log(s);var F;switch(t){case"stopwatch":F=Object(M.jsxs)("div",{className:f.a.Content,children:[Object(M.jsx)("button",{className:"".concat(f.a.MainButton,"     main-button"),onClick:function(){var e=C;if(T(!e),e){var t=p+Date.now()-I;x(t)}else H(Date.now())},children:Object(M.jsx)("svg",{width:"50",height:"50",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#").concat(C?"pause":"play","-circle")})})}),Object(M.jsx)("h5",{className:w.a.Header,children:c}),Object(M.jsx)(R,{accum:p,isRunning:C,lastEntry:I})]});break;case"checker":F=Object(M.jsxs)("div",{className:y.a.Content,children:[Object(M.jsx)("h5",{className:w.a.Header,children:c}),Object(M.jsx)("div",{className:y.a.CheckBox,children:Object(M.jsx)("svg",{onClick:function(){h(!b)},width:"22",height:"22",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#").concat(b?"check-":"","square")})})})]});break;case"counter":F=Object(M.jsxs)("div",{className:_.a.Content,children:[Object(M.jsx)("h5",{className:w.a.Header,children:c}),Object(M.jsx)(D,{count:l,size:s,plus:function(e){return d(e)},minus:function(e){return d(e)}})]});break;default:F=Object(M.jsxs)("div",{className:g.a.Content,children:[Object(M.jsx)("h5",{className:w.a.Header,children:c}),Object(M.jsx)(S.a,{className:g.a.Rating,name:"stars",defaultValue:3,size:"large"})]})}return Object(M.jsxs)("div",{className:w.a.Tracker,style:{borderColor:a},children:[F,Object(M.jsx)("div",{className:w.a.Expand,children:Object(M.jsx)("svg",{width:"30",height:"30",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-expand")})})})]})})),z=a(634),L=a(639),A=a(629),Y=a(630),G=a(65),V=r.a.memo((function(e){var t=Object(c.useState)("#00bcd4"),a=Object(n.a)(t,2),s=a[0],o=a[1],d=r.a.useState(0),p=Object(n.a)(d,2),f=p[0],x=p[1],g=r.a.useState(""),v=Object(n.a)(g,2),_=v[0],k=v[1],y=r.a.useState(2),C=Object(n.a)(y,2),w=C[0],N=C[1],S=Object(c.useContext)(b.a),T=r.a.useCallback((function(e){var t;switch(e){case"stopwatch":t="rgb(152, 29, 135)";break;case"rater":t="rgb(12, 223, 238)";break;case"checker":t="rgb(12, 136, 238)";break;default:t="rgb(236, 54, 141)"}o(t)}),[]);Object(c.useEffect)((function(){k(e.type),N("counter"===e.type?3:2),T(e.type)}),[e,T]);var E=function(){B.setFieldTouched("name",!0,!0),B.values.name&&x((function(e){return e+1}))},D=function(){x((function(e){return e-1}))},B=Object(l.d)({initialValues:{name:"",description:"",size:1},validationSchema:i.b({name:i.d().max(20,"Name is too long").required("Must have a name"),description:i.d(),size:i.a().positive("Must be a possitive number").required("")}),onSubmit:function(t){e.attemptSubmition(),e.createNewTracker(S,e.type,t.name,t.description,s,t.size),H()}}),I=[{label:"Name",description:Object(M.jsxs)(G.a,{children:[Object(M.jsx)(m.a,{id:"name",name:"name",label:Object(M.jsxs)("p",{children:["Name ",Object(M.jsx)("small",{children:" (required)"})]}),variant:"outlined",placeholder:"e.g With friends...",value:B.values.name,onChange:B.handleChange,error:B.touched.name&&Boolean(B.errors.name),helperText:B.touched.name&&B.errors.name}),Object(M.jsx)("p",{children:"Choose a name that describes best what the tracker tracks, with the least amount of words."})]})},{label:"Description",description:Object(M.jsxs)(G.a,{children:[Object(M.jsx)(m.a,{id:"description",name:"description",multiline:!0,label:Object(M.jsxs)("p",{children:["Description",Object(M.jsx)("small",{children:" (optional)"})]}),variant:"outlined",maxRows:4,placeholder:"e.g The amount of time i spend hanging out with friends...",value:B.values.description,onChange:B.handleChange,error:B.touched.description&&Boolean(B.errors.description),helperText:B.touched.description&&B.errors.description}),Object(M.jsx)("p",{children:"A description would remind you what this tracker is meant to track in case you forget."})]})},"counter"===_?{label:"Step size",description:Object(M.jsxs)(G.a,{children:[Object(M.jsx)(m.a,{value:B.values.size,onChange:B.handleChange,id:"size",name:"size",type:"number",label:Object(M.jsxs)("p",{children:["Step size",Object(M.jsx)("small",{children:" (optional)"})]}),variant:"outlined",style:{width:"100px"},error:B.touched.size&&Boolean(B.errors.size),helperText:B.touched.size&&B.errors.size}),Object(M.jsx)("p",{children:"The `step size` is the amount by which the count goes up or down per click."})]})}:null,{label:"Color",description:Object(M.jsxs)(G.a,{children:[Object(M.jsx)(j.b,{onChangeComplete:function(e){o(e.hex)},color:s}),Object(M.jsx)("p",{children:"The color will be displayed in all graphs and charts (It can be changed at any time)."})]})}],H=function(){o("#00bcd4"),e.onFinish()},F=Object(M.jsxs)("div",{className:u.a.Modal,children:[Object(M.jsxs)("div",{className:u.a.Header,children:[Object(M.jsx)("div",{className:u.a.Selector,children:Object(M.jsx)("select",{onChange:function(e){k(e.target.value),T(e.target.value)},value:_,children:["Rater","Checker","Stopwatch","Counter"].map((function(e){return Object(M.jsx)("option",{value:e.toLowerCase(),children:e},e)}))})}),Object(M.jsx)(P,{type:_,color:s,name:B.values.name?B.values.name:_.slice(0,1).toUpperCase()+_.slice(1),size:+B.values.size})]}),Object(M.jsx)(h.a,{}),Object(M.jsx)("div",{className:u.a.Body,children:Object(M.jsx)(z.a,{activeStep:f,orientation:"vertical",children:I.map((function(e,t){return e?Object(M.jsxs)(L.a,{className:"Name"===e.label&&B.errors.name?u.a.RedCircle:u.a.Circle,children:[Object(M.jsx)(A.a,{children:e.label}),Object(M.jsx)(Y.a,{children:Object(M.jsxs)("div",{className:u.a.Step,children:[Object(M.jsx)("div",{className:u.a.StepContent,children:e.description}),Object(M.jsxs)("div",{className:u.a.Buttons,children:[Object(M.jsx)("button",{className:u.a.Button,onClick:f!==w?E:B.submitForm,disabled:0===f&&!!B.errors.name,children:t===I.length-1?"Create":"Continue"}),Object(M.jsx)("button",{className:u.a.BackButton,disabled:0===t,onClick:D,children:"Back"})]})]})})]},e.label):null}))})})]});return"attempt"===e.submitionState&&(F=Object(M.jsx)(O.a,{})),F})),W={attemptSubmition:function(){return s.l("attempt")},createNewTracker:function(e,t,a,n,c,r){return s.a(e,t,a,n,c,r)}},U=Object(o.b)((function(e){return{submitionState:e.submitionState}}),W)(V),Z=a(25),q=a(627),J=a(523),K=a.n(J),X=a(608),Q=a(640),$=a(603),ee=a(604),te=a(635),ae=a(607),ne=a(609),ce=a(610),re=a(611),se=a(612),oe=function(e,t){return e.filter((function(e){return!t.includes(e)}))},ie=function(e,t){return e.filter((function(e){return t.includes(e)}))},le=r.a.memo((function(e){var t=e.show,a=e.closeHandler,r=e.checkers,s=e.raters,o=Object(c.useState)([]),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)([].concat(Object(Z.a)(r),Object(Z.a)(s))),j=Object(n.a)(u,2),h=j[0],O=j[1],p=Object(c.useState)([]),f=Object(n.a)(p,2),x=f[0],g=f[1],v=ie(l,h),_=ie(l,x),k=Object(c.useState)(["raters","checkers"]),y=Object(n.a)(k,2),C=y[0],w=y[1],S=Object(c.useState)(""),T=Object(n.a)(S,2),E=T[0],D=T[1],B=Object(c.useContext)(b.a),I=function(){a()},H=function(e){return function(){var t=l.indexOf(e),a=Object(Z.a)(l);-1===t?a.push(e):a.splice(t,1),d(a)}},F=function(e){return ie(l,e).length},R=function(e){return function(){var t,a;F(e)===e.length?d(oe(l,e)):d((t=l,a=e,[].concat(Object(Z.a)(t),Object(Z.a)(oe(a,t)))))}},P=function(e,t){w(t)},z=function(e,t){return Object(M.jsxs)($.a,{children:[Object(M.jsx)(ee.a,{className:K.a.CardHeader,avatar:Object(M.jsx)(te.a,{onClick:R(t),checked:F(t)===t.length&&0!==t.length,indeterminate:F(t)!==t.length&&0!==F(t),disabled:0===t.length}),title:e,subheader:"".concat(F(t),"/").concat(t.length," selected")}),Object(M.jsx)(ae.a,{}),Object(M.jsxs)(X.a,{defaultCollapseIcon:Object(M.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-up")})}),defaultExpandIcon:Object(M.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-down")})}),expanded:C,onNodeToggle:P,children:[Object(M.jsx)(Q.a,{nodeId:"raters",label:"Raters",children:t.filter((function(e){return"rater"===e.type})).map((function(e){return Object(M.jsxs)(ne.a,{role:"listitem",button:!0,onClick:H(e),children:[Object(M.jsx)(ce.a,{children:Object(M.jsx)(te.a,{checked:l.includes(e),disableRipple:!0})}),Object(M.jsx)(re.a,{id:e.id,primary:e.name})]},e.id)}))}),Object(M.jsx)(Q.a,{nodeId:"checkers",label:"Checkers",children:t.filter((function(e){return"checker"===e.type})).map((function(e){return Object(M.jsxs)(ne.a,{role:"listitem",button:!0,onClick:H(e),children:[Object(M.jsx)(ce.a,{children:Object(M.jsx)(te.a,{checked:l.includes(e),disableRipple:!0})}),Object(M.jsx)(re.a,{id:e.id,primary:e.name})]},e.id)}))})]})]})},L=Object(M.jsxs)("form",{className:K.a.Form,children:[Object(M.jsx)(m.a,{id:"standard-basic",label:"Name",required:!0,value:E,onChange:function(e){D(e.target.value)},error:E.length<4&&E.length>0}),Object(M.jsxs)("div",{className:K.a.Transfer,children:[z("Choices",h),Object(M.jsxs)("div",{className:K.a.Movers,children:[Object(M.jsx)(se.a,{variant:"outlined",size:"small",onClick:function(){g(x.concat(v)),O(oe(h,v)),d(oe(l,v))},disabled:0===v.length,children:">"}),Object(M.jsx)(se.a,{variant:"outlined",size:"small",onClick:function(){O(h.concat(_)),g(oe(x,_)),d(oe(l,_))},disabled:0===_.length,children:"<"})]}),z("Chosen",x)]})]});return Object(M.jsxs)(q.a,{show:t,onHide:I,children:[Object(M.jsx)(q.a.Header,{}),Object(M.jsx)(q.a.Body,{children:L}),Object(M.jsxs)(q.a.Footer,{children:[Object(M.jsx)(se.a,{onClick:I,children:"Close"}),Object(M.jsx)(se.a,{onClick:function(){B.collection("surveys").add({name:E,trackers:x.map((function(e){return e.id}))}).then((function(){I()})).catch((function(e){return console.log(e)}))},children:"Save"})]})]})})),de=a(526),ue=a.n(de),je=a(176),be=a(31),he=a(527),me=a.n(he),Oe=a(528),pe=a.n(Oe),fe=a(467),xe=a(529),ge=a.n(xe),ve=r.a.memo((function(e){var t=e.chartData,a=Object(c.useRef)(null),n=Object(c.useCallback)((function(e){if(e){var t=e.getContext("2d");t&&(a.current=new fe.a(t,{type:"bar",data:{datasets:[]},options:{aspectRatio:8,scales:{x:{stacked:!0,max:24,grid:{display:!1},ticks:{stepSize:4,callback:function(e){return"".concat(e,":00")}}},y:{stacked:!0}},indexAxis:"y",onClick:function(e){var t,a,n=e.chart.config._config.data.datasets;console.log(n);var c=null===(t=e.chart._active[0])||void 0===t?void 0:t.datasetIndex;if(c){var r=null===(a=e.chart._active[0])||void 0===a?void 0:a.index;console.log(c),console.log(r),console.log(n[c].data[r])}},elements:{bar:{borderWidth:1,barThickness:2}},responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}))}}),[]);return Object(c.useEffect)((function(){a.current&&(a.current.data={labels:[""],datasets:t},a.current.update())}),[t]),Object(M.jsx)(G.a,{children:Object(M.jsx)("div",{className:ge.a.BarChart,children:Object(M.jsx)("canvas",{ref:n})})})})),_e=r.a.memo((function(e){var t=e.stopwatch,a=e.entries,r=e.date,s=Object(c.useState)(Date.now()),o=Object(n.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(null),u=Object(n.a)(d,2),j=u[0],b=u[1];Object(c.useEffect)((function(){var e=[],n=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1).getTime(),s=[n].concat(Object(Z.a)(a.map((function(e){return e.timestamp})))),o=i;s.push(o<c?o:c);var l=[],d=null;s.forEach((function(e){d&&l.push((e-d)/36e5),d=e}));var u=function(e){var a="rgb(225, 225, 225)";return e%2&&(a=t.color),a};l.forEach((function(t,a){e.push({data:[t],backgroundColor:u(a)})})),b(e)}),[t,a,r,i]);var h=Object(c.useCallback)((function(){l(Date.now())}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){h()}),6e4);return function(){clearInterval(e)}}),[h]);var m=Object(M.jsx)("p",{children:"loading..."});return j&&(m=Object(M.jsx)("div",{className:pe.a.BarChartPreamp,children:Object(M.jsx)(ve,{chartData:j})})),m})),ke=a(531),ye=a(613),Ce=a(0),we=a.n(Ce),Ne=a(3),Se=a(49);function Te(){return(Te=Object(Ne.a)(we.a.mark((function e(t,a){var n,c;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a.forEach((function(e){var a=Ee(t,e.year,e.month,e.day);n.push(a)})),e.next=4,Promise.all(n);case 4:return c=e.sent,e.abrupt("return",c.map((function(e){return e.docs})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=function(e,t,a,n){return e.collection("entries").where("year","==",t).where("month","==",a).where("day","==",n).orderBy("timestamp","asc").get()};var Me=a(530),De=a.n(Me),Be=a(220),Ie=r.a.memo((function(e){var t=e.entry,a=e.submitHandler,r=Object(c.useState)(t.from.timestamp),s=Object(n.a)(r,2),o=s[0],i=s[1],d=Object(c.useState)(t.to.timestamp),u=Object(n.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(j-o),m=Object(n.a)(h,2),O=m[0],p=m[1],f=new Date(t.from.timestamp),x=new Date(t.to.timestamp),g={fromHour:f.getHours(),fromMinute:f.getMinutes(),fromSecond:f.getSeconds(),toHour:x.getHours(),toMinute:x.getMinutes(),toSecond:x.getSeconds()};return Object(M.jsx)("div",{children:Object(M.jsx)(l.c,{initialValues:g,onSubmit:function(e){},validate:function(e){var a={to:!1,from:!1},n=Object(Be.b)(e.fromHour,e.fromMinute,e.fromSecond,t.from.timestamp),c=Object(Be.b)(e.toHour,e.toMinute,e.toSecond,t.to.timestamp),r=n>=t.from.limit,s=n<=c,o=c<=t.to.limit,l=c>n;return r&&s||(a.from=!0),l&&o||(a.to=!0),i(n),b(c),p(c-n),a},children:function(e){var n=e.errors,c=e.values;return Object(M.jsxs)(l.b,{className:De.a.Form,children:[Object(M.jsxs)("div",{className:De.a.Field,style:{borderColor:n.from?"red":"green"},children:[Object(M.jsx)("label",{children:"From:"}),Object(M.jsx)(l.a,{min:0,max:23,type:"number",name:"fromHour"}),Object(M.jsx)("p",{children:":"}),Object(M.jsx)(l.a,{min:0,max:59,type:"number",name:"fromMinute"}),Object(M.jsx)("p",{children:":"}),Object(M.jsx)(l.a,{min:0,max:59,type:"number",name:"fromSecond"})]}),Object(M.jsx)("div",{className:De.a.Limit,children:"Must be between ".concat(Object(Be.c)(t.from.limit)," and ").concat(Object(Be.c)(Object(Be.b)(c.toHour,c.toMinute,c.toSecond,t.to.timestamp)))}),Object(M.jsxs)("div",{className:De.a.Field,style:{borderColor:n.to?"red":"green"},children:[Object(M.jsx)("label",{children:"To:"}),Object(M.jsx)(l.a,{min:0,max:23,type:"number",name:"toHour"}),Object(M.jsx)("p",{children:":"}),Object(M.jsx)(l.a,{min:0,max:59,type:"number",name:"toMinute"}),Object(M.jsx)("p",{children:":"}),Object(M.jsx)(l.a,{min:0,max:59,type:"number",name:"toSecond"})]}),Object(M.jsx)("div",{className:De.a.Limit,children:"Must be between ".concat(Object(Be.c)(Object(Be.b)(c.fromHour,c.fromMinute,c.fromSecond,t.from.timestamp))," and ").concat(Object(Be.c)(t.to.limit))}),Object(M.jsx)("div",{className:De.a.Field,style:{width:"100%",borderColor:n.from?"red":"green"},children:Object(M.jsxs)("p",{style:{fontWeight:"normal",width:"100%"},children:["Sub-Total: ",B(O)]})}),Object(M.jsx)("button",{onClick:function(){return a(o,j)},type:"submit",disabled:!!n.to||!!n.from,children:"Save Changes"})]})}})})})),He=a(181),Fe=function(e){var t=e.show,a=e.closeHandler,n=e.editHandler,r=e.entry,s=e.newEntryHandler,o=Object(c.useContext)(b.a),i=function(e,t){console.log("change");var a=be.b.batch(),c=o.collection("entries").doc(r.from.id);if(a.update(c,{timestamp:e}),r.to.id){var i=o.collection("entries").doc(r.to.id);a.update(i,{timestamp:t})}r.to.id||(console.log("do something else"),s(t)),n(a)};return Object(M.jsxs)(He.a,{show:t,onHide:a,children:[Object(M.jsx)("div",{style:{width:"100%",height:"60px"},children:"Change the beginning and ending"}),Object(M.jsx)("div",{style:{width:"100%",height:"max-content"},children:Object(M.jsx)(Ie,{entry:r,submitHandler:function(e,t){(null===r||void 0===r?void 0:r.index)?i(e,t):(s(e),s(t)),a()}})})]})},Re=r.a.memo((function(e){var t=e.entries,a=e.stopwatch,r=e.date,s=e.show,o=e.closeHandler,i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)([]),h=Object(n.a)(j,2),m=h[0],O=h[1],p=Object(c.useState)(!1),f=Object(n.a)(p,2),x=f[0],g=f[1],v=Object(c.useState)(null),_=Object(n.a)(v,2),k=_[0],y=_[1],C=Object(c.useContext)(je.a),w=Object(c.useState)([]),N=Object(n.a)(w,2),S=N[0],T=N[1],E=Object(c.useContext)(b.a);Object(c.useEffect)((function(){if(!t.length)return u([]),void T([]);var e=function(e,t,a,n){var c=[],r=n.getTime(),s=new Date(e[0].year,e[0].month,e[0].day+1,0,0,-1).getTime(),o=null,i=0,l=r,d=0;e.forEach((function(e,r){if(r%2){c.pop();var s=e.timestamp-o.timestamp;i+=s;var u={timestamp:o.timestamp,id:o.entryId,limit:l},j={timestamp:e.timestamp,id:e.entryId,limit:null};l=j.timestamp;var b={stopwatchId:t,from:u,to:j,subTotal:s,total:i,index:d};c.push(b)}if(!(r%2)){if(o=e,d++,n.getTime()===a.getTime()){var h={stopwatchId:t,from:{timestamp:e.timestamp,id:e.entryId,limit:0},to:{timestamp:0,id:"",limit:0},subTotal:0,total:0,index:d};c.push(h)}if(n.getTime()!==a.getTime()){var m=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,0,0,-1).getTime(),O={stopwatchId:t,from:{timestamp:e.timestamp,id:e.entryId,limit:n.getTime()},to:{timestamp:m,id:"",limit:m},subTotal:m-e.timestamp,total:i+m-e.timestamp,index:d};c.push(O)}}}));var u=c.reverse(),j=s;return u.forEach((function(e){e.to&&(e.to.limit=j),j=e.from.timestamp})),u}(t,a.id,C,r);u(e),T(e.map((function(t,a){return t.to.timestamp?{id:e.length-a,from:I(t.from.timestamp),to:I(t.to.timestamp),subTotal:B(t.subTotal),total:B(t.total)}:{id:e.length-a,from:I(t.from.timestamp),to:"now",subTotal:"--:--:--",total:"--:--:--"}})))}),[t,a,C,r]);return Object(M.jsxs)(He.a,{show:s,onHide:o,children:[Object(M.jsx)("div",{className:me.a.Header,children:Object(M.jsx)(_e,{entries:t,stopwatch:a,date:r})}),Object(M.jsx)("div",{className:me.a.body,children:Object(M.jsxs)("div",{className:me.a.Entries,children:[Object(M.jsxs)(ye.a,{variant:"text",color:"primary",children:[Object(M.jsx)(se.a,{disabled:1!==m.length,onClick:function(){var e=d.length-m[0],t=[];t.push(d[e].from.id),d[e].to.id&&t.push(d[e].to.id);var a=be.b.batch();t.forEach((function(e){var t=E.collection("entries").doc(e);a.delete(t)})),a.commit().then((function(){console.log("deleted"),O([])})).catch((function(e){return console.log(e)}))},children:"Delete"}),Object(M.jsx)(se.a,{disabled:1!==m.length,onClick:function(){var e=d.length-m[0];y(d[e]),g(!0)},children:"Edit"}),Object(M.jsx)(se.a,{onClick:function(){if(!d[0]||0!==d[0].to.timestamp){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),t=r.getTime()!==C.getTime()?new Date(r.getFullYear(),r.getMonth(),r.getDate()+1).getTime():Date.now(),n=d[0]?d[0].to.timestamp:e,c={stopwatchId:a.id,from:{timestamp:n,id:"",limit:n},to:{timestamp:n,id:"",limit:t},subTotal:0,total:0,index:0};y(c),g(!0)}},disabled:!!d[0]&&0===d[0].to.timestamp,children:"New Entry"})]}),Object(M.jsx)(ke.a,{rows:S,rowHeight:30,columns:[{field:"id",headerName:"Index",width:30,sortable:!1,filterable:!1},{field:"from",headerName:"From",width:100,editable:!0,sortable:!1,filterable:!1},{field:"to",headerName:"To",width:100,editable:!0,sortable:!1,filterable:!1},{field:"subTotal",headerName:"Sub-Total",width:120,editable:!1,sortable:!1,filterable:!1},{field:"total",headerName:"Total",width:100,editable:!1,sortable:!1,filterable:!1}],pageSize:6,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:function(e){O(e)},selectionModel:m,headerHeight:40}),x?Object(M.jsx)(Fe,{show:x,entry:k,closeHandler:function(){g(!1)},newEntryHandler:function(e){E.collection("entries").add({timestamp:e,trackerId:a.id,year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),type:"stopwatchEntry"}).then((function(){})).catch((function(e){return console.log(e)}))},editHandler:function(e){console.log(e),e.commit().then((function(){console.log("we did it!"),g(!1)})).catch((function(e){e&&console.log("try again",e)}))}}):null]})})]})})),Pe=a(419),ze=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(Date.now()),j=Object(n.a)(u,2),h=j[0],m=j[1],O=Object(c.useContext)(je.a),p=Object(c.useContext)(b.a),x=Object(c.useState)([]),g=Object(n.a)(x,2),v=g[0],_=g[1];Object(c.useEffect)((function(){_([]),d(!1),s(0);var t=Object(Pe.a)(p,"entries"),a=Object(Pe.d)(t,Object(Pe.e)("trackerId","==",e.stopwatch.id),Object(Pe.e)("year","==",e.date.getFullYear()),Object(Pe.e)("month","==",e.date.getMonth()),Object(Pe.e)("day","==",e.date.getDate()),Object(Pe.c)("timestamp","asc"));return Object(Pe.b)(a,(function(e){var t=[];e.forEach((function(e){var a=e.data(),n={timestamp:a.timestamp,trackerId:a.trackerId,entryId:e.id,year:a.year,month:a.month,day:a.day,type:"stopwatchEntry"};t.push(n)})),_(t)}))}),[p,e.date,e.stopwatch.id,e.user]),Object(c.useEffect)((function(){if(!v.length)return d(!1),void s(0);var t=!(v.length%2);d(!t);var a=v.map((function(e){return e.timestamp}));if(!t){if(e.date.getTime()===O.getTime()){var n=a.pop();m(n)}e.date.getTime()!==O.getTime()&&(d(!1),a.push(new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()+1,0,0,-1).getTime()))}var c=0;a.forEach((function(e,t){t%2?c+=e:c-=e})),s(c)}),[v,e.date,O]);return Object(M.jsxs)("div",{className:w.a.Tracker,style:{borderColor:e.stopwatch.color},children:[Object(M.jsxs)("div",{className:f.a.Content,children:[Object(M.jsx)("button",{className:f.a.MainButton,onClick:function(){var t=Date.now();p.collection("entries").add({timestamp:t,trackerId:e.stopwatch.id,year:O.getFullYear(),month:O.getMonth(),day:O.getDate(),type:"stopwatchEntry"}).then((function(){})).catch((function(e){return console.log(e)}))},disabled:e.date.getTime()!==O.getTime(),children:Object(M.jsx)("svg",{width:"50",height:"50",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#").concat(l?"pause":"play","-circle")})})}),Object(M.jsx)("h5",{className:f.a.Header,children:e.stopwatch.name}),Object(M.jsx)(R,{isRunning:l,accum:r,lastEntry:h})]}),Object(M.jsx)("div",{className:w.a.Expand,children:Object(M.jsx)("svg",{onClick:function(t){e.selector(e.stopwatch.id)},width:"30",height:"30",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-expand")})})}),Object(M.jsx)(Re,{show:!1,entries:v,stopwatch:e.stopwatch,date:e.date,closeHandler:function(){}})]})})),Le=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){u(null),s(0);var t=Object(Pe.a)(o,"entries"),a=Object(Pe.d)(t,Object(Pe.e)("trackerId","==",e.rater.id),Object(Pe.e)("year","==",e.date.getFullYear()),Object(Pe.e)("month","==",e.date.getMonth()),Object(Pe.e)("day","==",e.date.getDate()),Object(Pe.c)("timestamp","asc"));return Object(Pe.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={timestamp:t.timestamp,value:t.value,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"raterEntry"};u(a),s(a.value)}))}))}),[o,e.date,e.rater.id,e.user]);return Object(M.jsxs)("div",{style:{borderColor:e.rater.color},className:w.a.Tracker,children:[Object(M.jsxs)("div",{className:g.a.Content,children:[Object(M.jsx)("h5",{className:g.a.Header,children:e.rater.name}),Object(M.jsx)(S.a,{className:g.a.Rating,name:e.rater.id,value:r,onChange:function(t,a){var n=Date.now();d||o.collection("entries").add({value:a,timestamp:n,trackerId:e.rater.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"raterEntry"}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({value:a}).then((function(){})).catch((function(e){return console.log(e)}))},size:"large",precision:.5})]}),Object(M.jsx)("div",{className:w.a.Expand,children:Object(M.jsx)("svg",{onClick:function(t){e.selector(e.rater.id)},width:"30",height:"30",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-expand")})})})]})})),Ae=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){u(null),s(!1);var t=Object(Pe.a)(o,"entries"),a=Object(Pe.d)(t,Object(Pe.e)("trackerId","==",e.checker.id),Object(Pe.e)("year","==",e.date.getFullYear()),Object(Pe.e)("month","==",e.date.getMonth()),Object(Pe.e)("day","==",e.date.getDate()),Object(Pe.c)("timestamp","asc"));return Object(Pe.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={timestamp:t.timestamp,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"checkerEntry",checked:t.checked};u(a),s(t.checked)}))}))}),[o,e.date,e.checker.id,e.user]);return Object(M.jsxs)("div",{className:w.a.Tracker,style:{borderColor:e.checker.color},children:[Object(M.jsxs)("div",{className:y.a.Content,children:[Object(M.jsx)("h5",{className:y.a.Header,children:e.checker.name}),Object(M.jsx)("div",{className:y.a.CheckBox,children:Object(M.jsx)(te.a,{checked:r,onChange:function(){var t=Date.now(),a=!r;d||o.collection("entries").add({timestamp:t,trackerId:e.checker.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"checkerEntry",checked:a}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({checked:a}).then((function(){})).catch((function(e){return console.log(e)}))},color:"primary"})})]}),Object(M.jsx)("div",{className:w.a.Expand,children:Object(M.jsx)("svg",{onClick:function(t){e.selector(e.checker.id)},width:"30",height:"30",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-expand")})})})]})})),Ye=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useContext)(b.a),i=Object(c.useState)(null),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){s(0),u(null);var t=Object(Pe.a)(o,"entries"),a=Object(Pe.d)(t,Object(Pe.e)("trackerId","==",e.counter.id),Object(Pe.e)("year","==",e.date.getFullYear()),Object(Pe.e)("month","==",e.date.getMonth()),Object(Pe.e)("day","==",e.date.getDate()),Object(Pe.c)("timestamp","asc"));return Object(Pe.b)(a,(function(e){e.forEach((function(e){var t=e.data(),a={count:t.count,timestamp:t.timestamp,trackerId:t.trackerId,entryId:e.id,year:t.year,month:t.month,day:t.day,type:"counterEntry"};s(t.count),u(a)}))}))}),[o,e.date,e.counter.id,e.user]);var j=function(t){var a=Date.now();d||o.collection("entries").add({count:t,timestamp:a,trackerId:e.counter.id,year:e.date.getFullYear(),month:e.date.getMonth(),day:e.date.getDate(),type:"counterEntry"}).then((function(){})).catch((function(e){return console.log(e)})),d&&o.collection("entries").doc(d.entryId).update({count:t}).then((function(){})).catch((function(e){return console.log(e)}))};return Object(M.jsxs)("div",{className:w.a.Tracker,style:{borderColor:e.counter.color},children:[Object(M.jsxs)("div",{className:_.a.Content,children:[Object(M.jsx)("h5",{className:_.a.Header,children:e.counter.name}),Object(M.jsx)(D,{count:r,size:e.counter.size,plus:j,minus:j})]}),Object(M.jsx)("div",{className:w.a.Expand,children:Object(M.jsx)("svg",{onClick:function(t){e.selector(e.counter.id)},width:"30",height:"30",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-expand")})})})]})})),Ge=a(535),Ve=a.n(Ge),We=a(548),Ue=a.n(We),Ze=a(394),qe=a(641),Je=a(620),Ke=a(633),Xe=["stopwatch","counter","checker","rater"],Qe={noActiveUser:function(){return s.i()},onSignout:function(){return s.m("")}},$e=Object(o.b)((function(e){return{user:e.user,userName:e.userName}}),Qe)((function(e){var t=r.a.useState(1),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState("obj"),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(null),j=Object(n.a)(u,2),b=j[0],m=j[1],O=r.a.useState(null),p=Object(n.a)(O,2),f=p[0],x=p[1],g=r.a.useState(new Map),v=Object(n.a)(g,2),_=v[0],k=v[1],y=r.a.useState(null),C=Object(n.a)(y,2),w=C[0],S=C[1];r.a.useEffect((function(){var e=new Map;return e.set("stopwatch","Recommended"),e.set("counter","Possible"),e.set("rater","Possible"),e.set("checker",""),k(e),function(){s(1),d("obj"),m(null),x(null),S(null)}}),[e]);var T,E;switch(l){case"obj":T="i.e. Something that also an outsider looking at me could have measured";break;case"subj":T="i.e. Somebody looking from the outside couldn't tell, only i can know";break;default:T="Please select one"}switch(c){case 1:E=Object(M.jsxs)("div",{className:Ue.a.Card,children:[Object(M.jsxs)("div",{className:Ue.a.Toggle,children:[Object(M.jsx)("h5",{children:"I want to track something"}),Object(M.jsxs)("div",{onClick:function(e){e.target.closest(".obj")&&d("obj"),e.target.closest(".subj")&&d("subj")},className:Ue.a.Togglegroup,children:[Object(M.jsx)("button",{style:{borderRadius:"10px 0px 0px 10px",backgroundColor:"obj"===l?"rgb(81, 229, 255)":"white"},className:"obj",children:"objective"}),Object(M.jsx)("div",{}),Object(M.jsx)("button",{style:{borderRadius:"0px 10px 10px 0px",backgroundColor:"subj"===l?"rgb(81, 229, 255)":"white"},className:"subj",children:"subjective"}),Object(M.jsx)("svg",{className:Ue.a.Arrow,style:{right:"subj"===l?"50px":"150px"},width:"20",height:"20",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#caret-up-fill")})})]})]}),Object(M.jsx)("p",{style:{marginTop:"10px"},children:T})]});break;case 2:E=Object(M.jsx)("div",{className:Ue.a.Card,children:Object(M.jsxs)(Ze.a,{component:"fieldset",children:[Object(M.jsx)("h5",{children:"Does duration matter?"}),Object(M.jsx)(qe.a,{"aria-label":"gender",name:"controlled-radio-buttons-group",value:b,onChange:function(e){m(e.target.value)},children:Object(M.jsxs)("div",{className:Ue.a.RadioOptions,children:[Object(M.jsx)(Je.a,{value:"no",control:Object(M.jsx)(Ke.a,{}),label:"Definitely not."}),Object(M.jsx)(Je.a,{value:"neutral",control:Object(M.jsx)(Ke.a,{}),label:"It's pretty much the same duration every time."}),Object(M.jsx)(Je.a,{value:"yes",control:Object(M.jsx)(Ke.a,{}),label:"Duration is exactly what i want to track about it."})]})})]})});break;case 3:E=Object(M.jsx)("div",{className:Ue.a.Card,children:Object(M.jsxs)(Ze.a,{component:"div",children:[Object(M.jsxs)("h5",{children:["Does iteration matter? ",Object(M.jsx)("small",{children:"(i.e how many times...)"})]}),Object(M.jsx)(qe.a,{value:f,onChange:function(e){x(e.target.value)},children:Object(M.jsxs)("div",{className:Ue.a.RadioOptions,children:[Object(M.jsx)(Je.a,{value:"no",control:Object(M.jsx)(Ke.a,{}),label:"Definitely not."}),Object(M.jsx)(Je.a,{value:"neutral",control:Object(M.jsx)(Ke.a,{}),label:"It's the same iteration every time."}),Object(M.jsx)(Je.a,{value:"yes",control:Object(M.jsx)(Ke.a,{}),label:"Iteration is exactly what i want to track about it."})]})})]})});break;default:E=Object(M.jsxs)("div",{className:Ue.a.Card,style:{boxShadow:"none"},children:[Object(M.jsx)("h5",{children:"Choose a tracker:"}),Object(M.jsx)("div",{className:Ue.a.Options,children:Xe.map((function(e,t){var a,n,c,r;switch(_.get(e)){case"Recommended":a="rgb(3, 219, 57)",n=1,r=Ue.a.Recommended;break;case"Possible":a="rgb(46, 196, 255)",n=2,r=Ue.a.Possible;break;default:a="rgb(190, 190, 190)",n=4,r=Ue.a.NotRec}switch(e){case"stopwatch":c="rgb(152, 29, 135)";break;case"rater":c="rgb(12, 223, 238)";break;case"checker":c="rgb(12, 136, 238)";break;default:c="rgb(236, 54, 141)"}return Object(M.jsxs)("div",{style:{order:n,boxShadow:w===e?"1px 1px 20px 3px ".concat(a):""},onClick:function(){return S(e)},className:"".concat(Ue.a.Option,"  ").concat(r),children:[Object(M.jsx)("h5",{style:{color:a},children:_.get(e)}),Object(M.jsx)(P,{type:e,color:c,name:e.slice(0,1).toUpperCase()+e.slice(1),size:0})]},t)}))})]})}return Object(M.jsxs)("div",{className:Ue.a.NewUser,children:[Object(M.jsxs)("div",{className:Ue.a.Header,children:[Object(M.jsx)("h1",{children:"New Tracker Guide"}),Object(M.jsx)("p",{children:"In just a minute, we'll choose the right Tracker type for you"})]}),Object(M.jsx)(h.a,{}),Object(M.jsx)("div",{className:Ue.a.Body,children:E}),Object(M.jsx)(h.a,{}),Object(M.jsxs)("div",{className:Ue.a.ButtonPanel,children:[Object(M.jsx)("button",{onClick:function(){s(4===c?"subj"===l?1:"yes"===b?2:3:c-1)},disabled:1===c,className:Ue.a.Back,children:"Back"}),Object(M.jsx)("button",{disabled:function(){var e;switch(c){case 1:e=!l;break;case 2:e=!b;break;case 3:e=!f;break;case 4:e=!w;break;default:e=!0}return e}(),onClick:function(){var t=new Map;4!==c?(3===c&&("yes"===f?(t.set("stopwatch",""),t.set("counter","Recommended"),t.set("rater",""),t.set("checker","Possible"),S("counter")):(t.set("stopwatch","Possible"),t.set("counter","Possible"),t.set("rater",""),t.set("checker","Recommended"),S("checker")),s(4)),2===c&&("yes"===b?(t.set("stopwatch","Recommended"),t.set("counter",""),t.set("rater",""),t.set("checker","Possible"),S("stopwatch"),s(4)):s(3)),1===c&&("subj"===l?(t.set("stopwatch",""),t.set("counter",""),t.set("rater","Recommended"),t.set("checker",""),S("rater"),s(4)):s(2)),k(t)):e.onFinish(w)},className:Ue.a.Next,children:"Next"})]})]})})),et=a(549),tt=a.n(et),at=function(e){var t=r.a.useState("rater"),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState("rgb(12, 223, 238)"),i=Object(n.a)(o,2),l=i[0],d=i[1];r.a.useEffect((function(){return function(){s("rater"),d("rgb(12, 223, 238)")}}),[e]);return Object(M.jsxs)("div",{className:tt.a.Modal,children:[Object(M.jsx)("div",{className:tt.a.Header,children:Object(M.jsx)("h1",{children:"Choose a Tracker type"})}),Object(M.jsx)(h.a,{}),Object(M.jsx)("div",{className:tt.a.Options,children:[{name:"Rater",type:"rater",color:"rgb(12, 223, 238)"},{name:"Checker",type:"checker",color:"rgb(12, 136, 238)"},{name:"Stopwatch",type:"stopwatch",color:"rgb(152, 29, 135)"},{name:"Counter",type:"counter",color:"rgb(236, 54, 141)"}].map((function(e){return Object(M.jsxs)("div",{className:tt.a.Option,onClick:function(){s(e.type),d(e.color)},children:[Object(M.jsx)("div",{className:tt.a.Arrow,children:Object(M.jsx)("svg",{width:"30",height:"30",fill:e.color,color:e.type===c?e.color:"white",children:Object(M.jsx)("use",{href:"".concat(N.a,"#caret-right-fill")})})}),Object(M.jsx)(P,{type:e.type,color:e.color,name:e.name,size:1})]},e.name)}))}),Object(M.jsx)("div",{className:tt.a.NotSure,children:Object(M.jsxs)("div",{className:tt.a.Large,style:{backgroundColor:l},children:[Object(M.jsx)("button",{onClick:e.onNotSure,className:tt.a.Left,children:"Not Sure?"}),Object(M.jsx)("button",{onClick:function(){e.onNext(c)},className:tt.a.Right,children:"Next"})]})})]})},nt=a(550),ct=a.n(nt),rt=a(551),st=a.n(rt),ot=function(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(""),j=Object(n.a)(u,2),b=j[0],h=j[1];r.a.useEffect((function(){s(e.value)}),[e]);var m=function(t){d(!0);var a,n=t.target.value;s(n),e.validators.forEach((function(e){a=e(n)?e(n):a})),h(a)},O="rgb(0, 153, 255)";return l&&b&&(O="red"),e.readOnly&&(O="lightgrey"),Object(M.jsxs)("form",{style:{zIndex:e.readOnly?0:1},onSubmit:function(t){t.preventDefault(),e.submitHandler(c)},className:st.a.Form,children:["textarea"===e.type?Object(M.jsx)("textarea",{style:{borderColor:O,width:e.width?e.width:"max-content"},id:e.name,value:c,readOnly:e.readOnly,onChange:m}):Object(M.jsx)("input",{style:{borderColor:O,width:e.width?e.width:""},id:e.name,type:e.type,value:c,readOnly:e.readOnly,onChange:m}),Object(M.jsx)("div",{className:st.a.Message,children:Object(M.jsx)("p",{children:b})}),Object(M.jsx)("button",{style:{display:e.readOnly?"none":"unset",bottom:"textarea"===e.type?"10px":"unset",top:"textarea"!==e.type?"10px":"unset"},disabled:!!b,className:st.a.Save,type:"submit",children:"Save"})]})},it=a(552),lt=a.n(it),dt=function(e){if(!e.display)return null;return Object(M.jsxs)("div",{className:lt.a.Box,children:[Object(M.jsx)("button",{style:{display:e.closable?"unset":"none"},onClick:function(){e.onClose(e.name)},className:lt.a.Button,children:"x"}),Object(M.jsx)("h5",{className:lt.a.Label,children:e.label}),Object(M.jsx)("main",{children:e.children})]})},ut=a(553),jt=a.n(ut),bt=function(e){var t=r.a.useState(0),a=Object(n.a)(t,2),c=a[0],s=a[1];return Object(M.jsxs)("div",{className:jt.a.ColorPicker,children:[Object(M.jsxs)("div",{className:jt.a.Switch,children:[Object(M.jsx)("button",{style:{backgroundColor:c?"unset":"rgb(231, 231, 231)"},onClick:function(){return s(0)},children:"Circles"}),Object(M.jsx)("button",{style:{backgroundColor:c?"rgb(231, 231, 231)":"unset"},onClick:function(){return s(280)},children:"Chrome"})]}),Object(M.jsx)("div",{className:jt.a.Pickers,children:Object(M.jsxs)("div",{className:jt.a.Slider,style:{transform:"translateX(-".concat(c,"px)")},children:[Object(M.jsx)("div",{className:jt.a.Picker,children:Object(M.jsx)(j.b,{onChangeComplete:e.onChange,color:e.color})}),Object(M.jsx)("div",{className:jt.a.Picker,children:Object(M.jsx)(j.a,{onChangeComplete:e.onChange,color:e.color})})]})})]})},ht=a(554),mt=a.n(ht),Ot=function(e){return Object(M.jsx)("div",{className:mt.a.Backdrop,children:Object(M.jsxs)("div",{className:mt.a.Modal,children:[Object(M.jsxs)("div",{className:mt.a.Message,children:[Object(M.jsx)("h2",{children:e.main}),Object(M.jsx)("p",{children:e.sub})]}),Object(M.jsxs)("div",{className:mt.a.ButtonPanel,children:[Object(M.jsx)("button",{className:mt.a.No,onClick:e.onNo,children:"Cancel"}),Object(M.jsx)("button",{className:mt.a.Yes,onClick:e.onYes,children:"I'm sure"})]})]})})},pt={deleteTracker:function(e,t){return s.c(e,t)},deleteEntries:function(e,t){return s.b(e,t)},updateField:function(e,t,a,n){return s.n(e,t,a,n)}},ft=Object(o.b)((function(e){return{user:e.user}}),pt)((function(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],s=a[1],o=r.a.useState(""),i=Object(n.a)(o,2),l=i[0],d=i[1],u=r.a.useState(""),j=Object(n.a)(u,2),h=j[0],m=j[1],O=r.a.useState(""),p=Object(n.a)(O,2),f=p[0],x=p[1],g=r.a.useState(""),v=Object(n.a)(g,2),_=v[0],k=v[1],y=r.a.useState(1),C=Object(n.a)(y,2),w=C[0],S=C[1],T=r.a.useState(!1),E=Object(n.a)(T,2),D=E[0],B=E[1],I=r.a.useContext(b.a);r.a.useEffect((function(){if(I){var t=Object(Pe.a)(I,"trackers"),a=Object(Pe.d)(t,Object(Pe.e)("id","==",e.id)),n=Object(Pe.b)(a,(function(e){e.forEach((function(e){var t=e.data();d(t.name),m(t.type),x(t.description),k(t.color),S(t.size)}))}));return e.user||n(),n}}),[e,I]);var H=function(e){},F=function(e){s(e)},R=function(t,a){e.updateField(I,e.id,t,a)};return Object(M.jsx)("div",{className:ct.a.Container,children:Object(M.jsxs)("div",{className:ct.a.Modal,style:{borderColor:_},children:[Object(M.jsxs)("div",{className:ct.a.Field,children:[Object(M.jsx)(dt,{label:"Name",name:"name",closable:!1,display:!0,onClose:H,children:Object(M.jsxs)("div",{className:ct.a.Header,children:[Object(M.jsx)(ot,{name:"Name",value:l,width:void 0,description:"the name and stuff",type:"text",readOnly:"name"!==c,submitHandler:function(e){R("name",e),s("")},validators:[function(e){return e.toString().length<1?"Must have a name":""},function(e){return e.toString().length>19?"Name cannot be longer than 20 characters":""}]}),Object(M.jsx)("p",{className:ct.a.HeaderType,children:h}),Object(M.jsx)("button",{className:ct.a.Pen,onClick:function(){return F("name")},children:Object(M.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#pen")})})})]})}),Object(M.jsx)(dt,{label:"Description",name:"description",closable:!1,display:!0,onClose:H,children:Object(M.jsxs)("div",{className:ct.a.Description,children:[Object(M.jsx)(ot,{name:"Description",value:f,width:void 0,description:"the name and stuff",type:"textarea",readOnly:"description"!==c,submitHandler:function(e){R("description",e),s("")},validators:[function(e){return e.toString().length>200?"Description cannot be longer than 200 characters":""}]}),Object(M.jsx)("button",{className:ct.a.Pen,onClick:function(){return F("description")},children:Object(M.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#pen")})})})]})}),"counter"===h?Object(M.jsx)(dt,{label:"Step Size",name:"stepSize",closable:!1,display:!0,onClose:H,children:Object(M.jsxs)("div",{className:ct.a.StepSize,children:[Object(M.jsx)(ot,{name:"Step Size",value:w,width:"40px",description:"the name and stuff",type:"number",readOnly:"stepSize"!==c,submitHandler:function(e){R("size",e),s("")},validators:[function(e){return e<1?"Step size has to be at least 1":""}]}),Object(M.jsx)("button",{className:ct.a.Pen,onClick:function(){return F("stepSize")},children:Object(M.jsx)("svg",{width:"16",height:"16",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#pen")})})})]})}):null]}),Object(M.jsx)(dt,{label:"Color",name:"actions",closable:!1,display:!0,onClose:H,children:Object(M.jsx)("div",{className:ct.a.Color,children:Object(M.jsx)(bt,{color:_,onChange:function(e){console.log(e.hex),R("color",e.hex)}})})}),Object(M.jsx)(dt,{label:"",name:"actions",closable:!1,display:!0,onClose:H,children:Object(M.jsx)("div",{className:ct.a.ButtonPanel,children:Object(M.jsx)("button",{onClick:function(){B(!0)},className:ct.a.DeleteButton,children:"Delete Tracker"})})}),Object(M.jsx)("div",{style:{display:""===c?"none":"unset"},onClick:function(){s("")},className:ct.a.Backdrop}),D?Object(M.jsx)(Ot,{main:"Are you Sure?",sub:"This action cannot be reversed...",onYes:function(){e.deleteTracker(I,e.id),e.deleteEntries(I,e.id),e.onClose()},onNo:function(){return B(!1)}}):null]})})})),xt=r.a.memo((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useContext)(je.a),j=Object(c.useState)(!1),b=Object(n.a)(j,2),h=b[0],m=b[1],O=Object(c.useState)(!1),p=Object(n.a)(O,2),f=p[0],x=p[1],g=Object(c.useState)(""),v=Object(n.a)(g,2),_=v[0],k=v[1],y=Object(c.useState)(null),C=Object(n.a)(y,2),w=C[0],N=C[1],S=Object(c.useState)(u),T=Object(n.a)(S,2),E=T[0],D=T[1],B=Object(c.useState)(!1),I=Object(n.a)(B,2),H=I[0],F=I[1];Object(c.useEffect)((function(){e.higherIsEmpty&&(m(!0),console.log("is empty"))}),[e.higherIsEmpty]),Object(c.useEffect)((function(){u&&D(u)}),[u]);var R=function(){s(!1)},P=function(e){N(e),F(!0)};return Object(M.jsxs)("div",{className:ue.a.Trackers,children:[Object(M.jsxs)("div",{className:ue.a.UpperContainer,children:[Object(M.jsx)("div",{className:ue.a.DatePicker,children:Object(M.jsx)(Ve.a,{maxDate:u,value:E,locale:"en-EN",onChange:D,clearIcon:null})}),Object(M.jsxs)("div",{className:ue.a.Container,children:[Object(M.jsx)("button",{onClick:function(){x(!0)},className:ue.a.NewTrackerButton,children:"NEW TRACKER"}),e.stopwatches.map((function(e){return Object(M.jsx)(ze,{stopwatch:e,date:E,selector:P},e.id)})),e.raters.map((function(e){return Object(M.jsx)(Le,{rater:e,selector:P,date:E},e.id)})),e.checkers.map((function(e){return Object(M.jsx)(Ae,{selector:P,checker:e,date:E},e.id)})),e.counters.map((function(e){return Object(M.jsx)(Ye,{selector:P,counter:e,date:E},e.id)}))]})]}),r?Object(M.jsx)(He.a,{show:!0,onHide:R,children:Object(M.jsx)(U,{onFinish:R,type:_})}):null,Object(M.jsx)(le,{show:l,closeHandler:function(){return d(!1)},checkers:e.checkers,raters:e.raters}),Object(M.jsx)(He.a,{show:h,onHide:function(){e.setValidateModal("You can always return to this guide through NEW TRACKER",(function(){m(!1)}))},children:Object(M.jsx)($e,{onFinish:function(e){k(e),m(!1),s(!0)},onClose:function(){return m(!1)}})}),Object(M.jsx)(He.a,{show:f,onHide:function(){return x(!1)},children:Object(M.jsx)(at,{onNext:function(e){x(!1),k(e),N(null),s(!0)},onNotSure:function(){x(!1),m(!0)}})}),H?Object(M.jsx)(He.a,{show:H,onHide:function(){return F(!1)},children:Object(M.jsx)(ft,{id:w,onClose:function(){return F(!1)}})}):null]})})),gt={setValidateModal:function(e,t){return s.k(e,t)}},vt=Object(o.b)((function(e){return{errorMessage:e.errorMessage}}),gt)(xt),_t=a(555),kt=a.n(_t),yt=a(556),Ct=a.n(yt),wt=a(557),Nt=a.n(wt),St=r.a.memo((function(e){var t=e.color,a=e.name,n=e.selectHandler,c=e.id,r=e.selected;return Object(M.jsxs)("button",{onClick:function(){return n(c)},className:Nt.a.Label,children:[Object(M.jsx)("div",{style:{backgroundColor:r?t:"transparent",borderColor:t}}),Object(M.jsx)("p",{children:a})]})})),Tt=r.a.memo((function(e){var t=e.checkers,a=e.raters,r=e.stopwatches,s=e.handler,o=e.selectedTrackers,i=e.counters,l=Object(c.useState)(["stopwatches","raters","checkers","counters"]),d=Object(n.a)(l,2),u=d[0],j=d[1];return Object(M.jsx)("div",{className:Ct.a.TrackerSelector,children:Object(M.jsxs)(X.a,{defaultCollapseIcon:Object(M.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-up")})}),defaultExpandIcon:Object(M.jsx)("svg",{width:"20",height:"20",fill:"currentColor",children:Object(M.jsx)("use",{href:"".concat(N.a,"#chevron-down")})}),expanded:u,selected:o.map((function(e){return e.id})),onNodeToggle:function(e,t){j(t)},onNodeSelect:function(e,t){s(t)},children:[Object(M.jsxs)(Q.a,{nodeId:"raters",label:"Raters",children:[a.map((function(e){return Object(M.jsx)(St,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),a.length?null:Object(M.jsx)("p",{children:"no raters yet..."})]}),Object(M.jsxs)(Q.a,{nodeId:"stopwatches",label:"Stopwatches",children:[r.map((function(e){return Object(M.jsx)(St,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),r.length?null:Object(M.jsx)("p",{children:"no stopwatches yet..."})]}),Object(M.jsxs)(Q.a,{nodeId:"checkers",label:"Checkers",children:[t.map((function(e){return Object(M.jsx)(St,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),t.length?null:Object(M.jsx)("p",{children:"no checkers yet..."})]}),Object(M.jsxs)(Q.a,{nodeId:"counters",label:"Counters",children:[i.map((function(e){return Object(M.jsx)(St,{color:e.color,name:e.name,id:e.id,selected:o.map((function(e){return e.id})).includes(e.id),selectHandler:s},e.id)})),i.length?null:Object(M.jsx)("p",{children:"no counters yet..."})]})]})})})),Et=a(558),Mt=a.n(Et),Dt=a(559),Bt=a.n(Dt),It=r.a.memo((function(e){var t=e.dateRange,a=e.setDateRange,n=e.todaysDate;return Object(M.jsx)("div",{className:Mt.a.Selector,style:{zIndex:1e4},children:Object(M.jsx)(Bt.a,{value:t,maxDate:n,locale:"en-EN",onChange:a,clearIcon:null})})})),Ht=a(563),Ft=a.n(Ht),Rt=r.a.memo((function(e){var t=e.labels,a=e.datasets,n=e.options,r=Object(c.useRef)(null),s=Object(c.useCallback)((function(e){if(e){var t=e.getContext("2d");t&&(r.current=new fe.a(t,{type:"bar",data:{datasets:[]}}))}}),[]);return Object(c.useEffect)((function(){r.current&&(r.current.data={labels:t,datasets:a},r.current.options=n,r.current.update())}),[a,t,n]),Object(M.jsx)(G.a,{children:Object(M.jsx)("div",{className:Ft.a.BarChart,children:Object(M.jsx)("canvas",{ref:s})})})})),Pt=a(564),zt=r.a.memo((function(e){var t=e.stopwatches,a=e.selectedTrackers,r=e.stopwatchEntries,s=e.raters,o=e.raterEntries,i=e.dateStrings,l=e.checkers,d=e.counters,u=e.counterEntries,j=e.checkerEntries,b=Object(c.useState)([]),h=Object(n.a)(b,2),m=h[0],O=h[1],p=Object(c.useState)({}),f=Object(n.a)(p,2),x=f[0],g=f[1],v=Object(c.useContext)(je.a);return Object(c.useEffect)((function(){var e={elements:{point:{radius:1}},interaction:{mode:"index",intersect:!1},stacked:!1,scales:{y:{type:"linear",display:!1,position:"left",title:{display:!1}},y1:{suggestedMax:5,ticks:{stepSize:1},type:"linear",display:!0,position:"right",title:{display:!0,text:"Rating"},grid:{drawOnChartArea:!0}}},plugins:{tooltip:{enabled:!1,displayColors:!1},legend:{display:!1}}};if(!a.length)return O([{data:[0,0,0,0,0,0,0],backgroundColor:"black",borderColor:"black",type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1}]),void g(e);var n=[];t.forEach((function(t){if(a.map((function(e){return e.id})).includes(t.id)){e.scales.y.display=!0,e.scales.y.suggestedMax=4,e.scales.y.title={display:!0,text:"Hours"},e.scales.y1.grid.drawOnChartArea=!1;var c=[];r.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}));if(a.length%2){var n=a[a.length-1],r=new Date(n.year,n.month,n.day).getTime()===v.getTime();if(!r){var s=function(e){var t=new Date(e.year,e.month,e.day+1,0,0,-1).getTime();return Object(Se.a)(Object(Se.a)({},e),{},{timestamp:t})}(n);a.push(s)}r&&a.push(Object(Se.a)(Object(Se.a)({},n),{},{timestamp:Date.now()}))}var o=0;a.forEach((function(e,t){t%2===0?o-=e.timestamp:o+=e.timestamp}));var i=o/36e5;c.unshift(i)}));var s={data:c,backgroundColor:t.color,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(s)}})),s.forEach((function(e){if(a.map((function(e){return e.id})).includes(e.id)){var t=[];o.forEach((function(a){var n,c=a.filter((function(t){return t.trackerId===e.id})),r=null===(n=c[c.length-1])||void 0===n?void 0:n.value;t.unshift(r||null)}));var c={data:t,backgroundColor:e.color,borderColor:e.color,type:"line",stepped:!1,order:0,yAxisID:"y1",tension:.4};n.push(c)}})),l.forEach((function(t){if(a.map((function(e){return e.id})).includes(t.id)){e.scales.y.display=!1,e.scales.y1.grid.drawOnChartArea=!0;var c=[];j.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}))[0];c.unshift((null===a||void 0===a?void 0:a.checked)?1:0)}));var r=Object(Pt.a)(t.color),s="rgba(".concat(r.red,", ").concat(r.green,", ").concat(r.blue,", 0.6)"),o={data:c,backgroundColor:s,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(o)}})),d.forEach((function(t){if(e.scales.y.display=!0,a.map((function(e){return e.id})).includes(t.id)){e.scales.y.suggestedMax=t.size,e.scales.y.title.text="Count",e.scales.y1.grid.drawOnChartArea=!1;var c=[];u.forEach((function(e){var a=e.filter((function(e){return e.trackerId===t.id}))[0],n=null===a||void 0===a?void 0:a.count;c.unshift(n||0)}));var r={data:c,backgroundColor:t.color,borderColor:t.color,type:"bar",stepped:!1,order:1,yAxisID:"y",tension:1};n.push(r)}})),O(n),g(e)}),[r,a,t,o,s,l,j,d,u,v]),Object(M.jsx)("div",{style:{display:"flex",flexFlow:"column"},children:Object(M.jsx)(Rt,{datasets:m,labels:i,options:x})})})),Lt=(a(442),r.a.memo((function(e){var t=e.stopwatches,a=e.checkers,r=e.raters,s=e.selectedTrackers,o=e.dateRange,i=e.counters,l=Object(c.useState)(new Map),d=Object(n.a)(l,2),u=d[0],j=d[1],h=Object(c.useState)(new Map),m=Object(n.a)(h,2),O=m[0],p=m[1],f=Object(c.useState)(new Map),x=Object(n.a)(f,2),g=x[0],v=x[1],_=Object(c.useState)(new Map),k=Object(n.a)(_,2),y=k[0],C=k[1],w=Object(c.useState)([]),N=Object(n.a)(w,2),S=N[0],T=N[1],E=Object(c.useContext)(b.a),D=Object(c.useContext)(je.a);return console.log("rendering chart selector"),Object(c.useEffect)((function(){var e=function(e){for(var t=[],a=e[1].getFullYear(),n=e[1].getMonth(),c=(e[1].getTime()-e[0].getTime())/864e5,r=0;r<Math.round(c);r++){var s=e[1].getDate()-r,o=new Date(a,n,s),i=o.getDate(),l=o.getMonth(),d=o.getFullYear();t.push({year:d,month:l,day:i})}return t}(o),t=e.map((function(e){return"".concat(e.day,"/").concat(e.month+1)}));T(t.reverse());var a=new Map,n=new Map,c=new Map,r=new Map;(function(e,t){return Te.apply(this,arguments)})(E,e).then((function(e){e.forEach((function(e,s){var o=[],i=[],l=[],d=[];e.forEach((function(e){var t=e.data();switch(t.type){case"stopwatchEntry":o.push(t);break;case"raterEntry":i.push(t);break;case"counterEntry":d.push(t);break;default:l.push(t)}})),a.set(t[s],o),n.set(t[s],i),c.set(t[s],l),r.set(t[s],d)})),j(a),v(n),p(c),C(r)}))}),[D,E,o]),Object(M.jsx)("div",{style:{marginLeft:"4px"},children:Object(M.jsx)(zt,{stopwatchEntries:u,checkerEntries:O,raterEntries:g,counterEntries:y,stopwatches:t,raters:r,checkers:a,counters:i,selectedTrackers:s,dateStrings:S})})}))),At=r.a.memo((function(e){var t=e.stopwatches,a=e.raters,r=e.checkers,s=e.counters,o=Object(c.useContext)(je.a),i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1];Object(c.useEffect)((function(){t.length&&a.length&&u([a[0],t[0]])}),[t,a]);var j=Object(c.useState)([new Date,new Date]),b=Object(n.a)(j,2),h=b[0],m=b[1];console.log("rendering DataPanel"),Object(c.useEffect)((function(){o&&m([new Date(o.getFullYear(),o.getMonth(),o.getDate()-7),new Date(o.getFullYear(),o.getMonth(),o.getDate())])}),[o]);return Object(M.jsxs)("div",{className:kt.a.DataPanel,children:[Object(M.jsx)(It,{todaysDate:o,dateRange:h,setDateRange:m}),Object(M.jsxs)("div",{className:kt.a.Main,children:[Object(M.jsx)(Tt,{raters:a,stopwatches:t,checkers:r,counters:s,handler:function(e){var n=!1,c=[],o=[].concat(Object(Z.a)(t),Object(Z.a)(a),Object(Z.a)(r),Object(Z.a)(s)).filter((function(t){return e===t.id}))[0];o&&(d.forEach((function(t){t.id===e&&(n=!0)})),n&&(c=d.filter((function(t){return t.id!==e}))),n||(c=[].concat(Object(Z.a)(d),[o]),"stopwatch"===o.type&&(c=c.filter((function(e){return"checker"!==e.type&&"counter"!==e.type}))),"checker"===o.type&&(c=c.filter((function(e){return"stopwatch"!==e.type&&"counter"!==e.type}))),"counter"===o.type&&(c=c.filter((function(e){return"stopwatch"!==e.type&&"checker"!==e.type})))),u(c))},selectedTrackers:d}),Object(M.jsx)(Lt,{dateRange:h,stopwatches:t,selectedTrackers:d,raters:a,checkers:r,counters:s})]})]})})),Yt=a(76),Gt=a.n(Yt),Vt=Object(o.b)((function(e){return{user:e.user,selectedView:e.selectedView}}));t.default=Vt((function(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)([]),i=Object(n.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)([]),j=Object(n.a)(u,2),h=j[0],m=j[1],O=Object(c.useState)([]),p=Object(n.a)(O,2),f=p[0],x=p[1],g=Object(c.useState)(!1),v=Object(n.a)(g,2),_=v[0],k=v[1],y=Object(c.useContext)(b.a),C=Object(c.useContext)(je.a);Object(c.useEffect)((function(){if(y){var t=Object(Pe.b)(Object(Pe.a)(y,"trackers"),{},(function(e){var t=[],a=[],n=[],c=[];e.empty&&k(!0),e.forEach((function(e){var r=e.data();switch(r.type){case"stopwatch":t.push(r);break;case"rater":a.push(r);break;case"counter":c.push(r);break;default:n.push(r)}})),s(t),m(n),d(a),x(c)}));return e.user||t(),t}}),[y,e.user]);var w=null,N=null;C&&e.user&&(w=Object(M.jsx)(At,{stopwatches:r,raters:l,checkers:h,counters:f}),N=Object(M.jsx)(vt,{stopwatches:r,raters:l,checkers:h,counters:f,higherIsEmpty:_}));var S=N;return"data"===e.selectedView&&(S=w),Object(M.jsx)(G.a,{children:Object(M.jsx)("div",{className:Gt.a.Background,children:S})})}))}}]);
//# sourceMappingURL=4.7a4c03bc.chunk.js.map