(this["webpackJsonpself-track"]=this["webpackJsonpself-track"]||[]).push([[0],{101:function(e,t,n){"use strict";var r=n(1),c=n(38),a=n(120),o=n(67),i=n(147),u=n(88),s=n.n(u),l=n(47),j=n(15),b={onLogin:function(e){return l.a(e)}},f=Object(c.b)(null,b);t.a=f((function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null);return Object(j.jsx)(a.a,{show:e.show,onHide:e.handleClose,children:Object(j.jsx)(a.a.Body,{children:Object(j.jsxs)(o.a,{className:s.a.Form,onSubmit:function(r){r.preventDefault();var c={email:t.current.value,password:n.current.value};e.onLogin(c)},children:[Object(j.jsx)(o.a.Group,{controlId:"formBasicEmail",className:s.a.Control,children:Object(j.jsx)(o.a.Control,{placeholder:"Your Email address",type:"text",ref:t})}),Object(j.jsx)(o.a.Group,{controlId:"formBasicPassword",className:s.a.Control,children:Object(j.jsx)(o.a.Control,{placeholder:"Password",type:"password",ref:n})}),Object(j.jsx)(i.a,{variant:"success",type:"submit",children:"Login"})]})})})}))},108:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=function(e){var t=new Date(e),n=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0");return"".concat(n,":").concat(r,":").concat(c)},c=function(e,t,n,r){var c=new Date(r);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),e,t,n).getTime()},a=function(){var e=new Date(Date.now()),t=e.getFullYear(),n=e.getMonth(),r=e.getDate()+1;return new Date(t,n,r).getTime()}},111:function(e,t,n){e.exports={MainMenu:"MainMenu_MainMenu__2_ibR"}},117:function(e,t,n){e.exports={Loader:"Spinner_Loader__3QyOO",load2:"Spinner_load2__1ANmD"}},132:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(21),o=n.n(a),i=n(109),u=n(38),s=n(85),l=n(110),j=(n(132),n(133),n(74)),b=n(20),f=n(50),d=n(98),h=n(111),O=n.n(h),p=n(159),g=n(179),x=n(47),v=n(101),w=n(15),m={activeUser:function(){return x.b()},noActiveUser:function(){return x.c()}},D=Object(u.b)((function(e){return{user:e.user}}),m)((function(e){var t=Object(r.useState)(null),n=Object(b.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!1),i=Object(b.a)(o,2),u=i[0],s=i[1],l=Object(r.useState)(!1),h=Object(b.a)(l,2),x=h[0],m=h[1];return Object(w.jsxs)(j.a,{children:[Object(w.jsx)("button",{className:O.a.MainMenu,onClick:function(e){a(e.currentTarget),s(!0)},children:Object(w.jsx)("svg",{width:"30",height:"30",fill:"currentColor",children:Object(w.jsx)("use",{href:"".concat(d.a,"#list")})})}),Object(w.jsx)(p.a,{anchorEl:c,keepMounted:!0,open:u,onClose:function(){return s(!1)},children:e.user?Object(w.jsx)(g.a,{onClick:function(){e.noActiveUser(),f.a.signOut().then((function(){window.location.href="/",s(!1)})).catch((function(e){return console.log(e)}))},children:"Sign Out"}):Object(w.jsx)(g.a,{onClick:function(){s(!1),m(!0)},children:"Login"})}),Object(w.jsx)(v.a,{handleClose:function(){return m(!1)},show:x})]})})),S=n(69),_=c.a.memo((function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(b.a)(a,2),i=o[0],u=o[1],s=Object(r.useContext)(S.a),l=Object(r.useCallback)((function(){var e=Date.now(),t=new Date(e),n=t.getSeconds().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),o="".concat(a,":").concat(r,":").concat(n);c(o)}),[]);return Object(r.useEffect)((function(){if(s){var e=s.toDateString();u(e)}}),[s]),Object(r.useEffect)((function(){var e=setInterval((function(){l()}),1e3);return function(){clearInterval(e)}}),[l]),Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"0px 10px"},children:[Object(w.jsx)("h5",{style:{marginRight:"30px",fontFamily:"arial",fontWeight:"lighter"},children:n}),Object(w.jsx)("h5",{children:i})]})})),C=n(94),k=n.n(C),y=Object(u.b)((function(e){return{user:e.user}}))((function(e){return Object(w.jsxs)("div",{className:k.a.Toolbar,children:[Object(w.jsx)("h2",{className:k.a.Header,children:"Self Track"}),e.user?Object(w.jsx)(_,{}):null,Object(w.jsx)(D,{})]})})),L=function(e){return Object(w.jsxs)(j.a,{children:[Object(w.jsx)(y,{}),Object(w.jsx)("main",{children:e.children})]})},M=n(25),E=n(117),T=n.n(E),N=function(){return Object(w.jsx)("div",{className:T.a.Loader,children:"Loading..."})},A=c.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,534))})),U=c.a.lazy((function(){return n.e(5).then(n.bind(null,533))})),I=Object(u.b)((function(e){return{user:e.user}}))((function(e){return Object(w.jsx)("div",{className:"App",style:{height:"100vh"},children:Object(w.jsx)(L,{children:Object(w.jsx)(r.Suspense,{fallback:Object(w.jsx)(N,{}),children:Object(w.jsxs)(M.c,{children:[Object(w.jsx)(M.a,{path:"/app",component:A,exact:!0}),Object(w.jsx)(M.a,{path:"/",component:U,exact:!0})]})})})})})),F=n(61),H=n(58),P={user:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.a:return Object(F.a)(Object(F.a)({},e),{},{user:!0});case H.b:return Object(F.a)(Object(F.a)({},e),{},{user:!1});default:return e}},z=n(96),R={activeUser:function(){return x.b()},noActiveUser:function(){return x.c()}},Y=Object(u.b)(null,R)((function(e){var t=Object(r.useState)(null),n=Object(b.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){return f.a.onAuthStateChanged((function(t){if(t){var n=f.b.collection("users").doc(t.uid);a(n),e.activeUser()}else e.noActiveUser()}))}),[e]),Object(w.jsx)(z.a.Provider,{value:c,children:e.children})})),G=n(108),W=function(e){var t=e.children,n=Object(r.useState)(new Date(new Date(Date.now()).getFullYear(),new Date(Date.now()).getMonth(),new Date(Date.now()).getDate())),c=Object(b.a)(n,2),a=c[0],o=c[1];return Object(r.useEffect)((function(){var e=Object(G.a)()-Date.now();setTimeout((function(){o(new Date(new Date(Date.now()).getFullYear(),new Date(Date.now()).getMonth(),new Date(Date.now()).getDate()))}),e)}),[a]),Object(w.jsx)(S.a.Provider,{value:a,children:t})},J=n(92),K=Object(s.createStore)(B,Object(l.composeWithDevTools)(Object(s.applyMiddleware)(i.a)));o.a.render(Object(w.jsx)(u.a,{store:K,children:Object(w.jsx)(Y,{children:Object(w.jsx)(W,{children:Object(w.jsx)(J.a,{children:Object(w.jsx)(I,{})})})})}),document.getElementById("root"))},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(50),c=n(58),a=function(e){return function(t){r.a.signInWithEmailAndPassword(e.email,e.password).then((function(e){window.location.href="/app"})).catch((function(e){"auth/wrong-password"===e.code?console.log("err1"):console.log("err2")}))}},o=function(){return{type:c.a}},i=function(){return{type:c.b}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(87);n(141),n(135);r.a.initializeApp({apiKey:"AIzaSyCkfEb7hWwjUsl_2sevK0Ei4H6Pl06w6jE",authDomain:"self-track-44917.firebaseapp.com",databaseURL:"https://self-track-44917-default-rtdb.firebaseio.com",projectId:"self-track-44917",storageBucket:"self-track-44917.appspot.com"});var c=r.a.auth(),a=r.a.firestore()},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r="LOGIN",c="LOGOUT"},69:function(e,t,n){"use strict";var r=n(1),c=n.n(r).a.createContext(null);t.a=c},74:function(e,t,n){"use strict";t.a=function(e){return e.children}},88:function(e,t,n){e.exports={Login:"Login_Login__kHiDd",Form:"Login_Form__1MCoP",Control:"Login_Control__2cxBw"}},94:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1Lnqz",Header:"Toolbar_Header__3N-uk"}},96:function(e,t,n){"use strict";var r=n(1),c=n.n(r).a.createContext(null);t.a=c}},[[140,1,3]]]);
//# sourceMappingURL=main.9f436e0e.chunk.js.map